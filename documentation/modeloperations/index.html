<!doctype html><html lang=en-us><head><meta name=theme content="Syna"><meta name=theme-version content="v0.17.4"><meta name=theme-url content="https://syna.okkur.org"><meta name=theme-description content="Highly customizable open source theme for Hugo based static websites"><meta name=theme-author content="Okkur Labs"><meta name=theme-author-url content="https://about.okkur.org"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=google content="notranslate"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=description content="Operations are just special actions In the previous section, we discussed actions and action handlers as the general way of how a diagram client and a diagram server communicate with each other and how they can invoke behavior or query data from each other. If such a behavior of an action now is intended to change the underlying source model on the server, there is a dedicated type of action for that: a model operation or operation for short."><meta property="og:title" content="Model Operations"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://www.eclipse.org/glsp/documentation/modeloperations/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Model Operations &amp;middot; Eclipse Graphical Language Server Platform"><meta name=twitter:description content="Operations are just special actions In the previous section, we discussed actions and action handlers as the general way of how a diagram client and a diagram server communicate with each other and how they can invoke behavior or query data from each other. If such a behavior of an action now is intended to change the underlying source model on the server, there is a dedicated type of action for that: a model operation or operation for short."><meta name=twitter:url content="https://www.eclipse.org/glsp/documentation/modeloperations/"><meta property="og:image" content><meta name=twitter:image content><meta name=author content="Eclipse Foundation"><meta name=generator content="Hugo 0.78.1"><title>Model Operations &#183; Eclipse Graphical Language Server Platform</title><style>.mx-0{margin-left:0!important;margin-right:0!important}@-ms-viewport{width: device-width; }html{box-sizing:border-box;-ms-overflow-style:scrollbar}*,*::before,*::after{box-sizing:inherit}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;max-width:540px;max-width:720px;max-width:960px;max-width:1140px}.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col-1,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-10,.col-11,.col-12,.col,.col-auto{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.col{flex-basis:0;flex-grow:1;max-width:100%}.col-auto{flex:0 0 auto;width:auto;max-width:none}.col-1{flex:0 0 8.33333%;max-width:8.33333%}.col-2{flex:0 0 16.66667%;max-width:16.66667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.33333%;max-width:33.33333%}.col-5{flex:0 0 41.66667%;max-width:41.66667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.33333%;max-width:58.33333%}.col-8{flex:0 0 66.66667%;max-width:66.66667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.33333%;max-width:83.33333%}.col-11{flex:0 0 91.66667%;max-width:91.66667%}.col-12{flex:0 0 100%;max-width:100%}.order-first{order:-1}.order-last{order:13}.order-0{order:0}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.order-6{order:6}.order-7{order:7}.order-8{order:8}.order-9{order:9}.order-10{order:10}.order-11{order:11}.order-12{order:12}.offset-1{margin-left:8.33333%}.offset-2{margin-left:16.66667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333%}.offset-5{margin-left:41.66667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333%}.offset-8{margin-left:66.66667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333%}.offset-11{margin-left:91.66667%}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-fill{flex:1 1 auto!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}</style><link href=https://www.eclipse.org/glsp/style.min.22cd872de50060107e56c516d998a642b2d73f8b4495cfdab6ecc5fb9b3719c5.css rel=stylesheet><link rel="shortcut icon" type=image/x-icon href=favicon.ico><link rel=icon sizes="16x16 32x32" type=image/x-icon href=/glsp/favicon.ico><link rel=icon href=/glsp/favicon.png><link rel=apple-touch-icon-precomposed href=/glsp/favicon.png><script>window.syna={};</script><script src=/glsp/scripts/syna-head.min.39bf5c0a13b9259b89a61f939da69c098cd8bf74be53a960cb951c39ad08db54.js></script></head><body class=bg-secondary><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "06f5cd775d484737a074b8122aae40ef"}'></script><nav class="overlay fragment navbar navbar-expand-lg py-2 scroll-spy bg-light navbar-light" id=nav role=navigation><div class=container><a class="navbar-brand py-0" href=/glsp/#><img src=/glsp/images/logo.png height=35 class="d-inline-block align-top" alt=GLSP></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse justify-content-between collapse show" id=navbarCollapse><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/glsp>Home</a></li><li class=nav-item><a class=nav-link href=/glsp/support>Support</a></li><li class=nav-item><a class=nav-link href=/glsp/documentation>Documentation</a></li><li class=nav-item><a class=nav-link href=/glsp/examples>Examples</a></li><li class=nav-item><a class=nav-link href=/glsp/gallery>Gallery</a></li><li class=nav-item><a class=nav-link href=/glsp/contact>Contact</a></li><li class=nav-item><a class=nav-link href=https://github.com/eclipse-glsp/glsp>GitHub</a></li></ul><div class="search-container position-relative"><form action=https://www.eclipse.org/glsp/search class=my-0><div class="input-group my-0"><input type=text class="form-control py-1" id=search-query-nav name=s placeholder=Search...><div class=input-group-append><button class="btn btn-primary" title=Search><i class="fa fa-search"></i></button></div></div></form><div class=search-results-container><div class="col p-0"><div id=search-results-nav class="col px-0 results"></div></div></div></div></div></div></nav><div class="scroll-to-top bg-primary has-font-icon" title="Back to top"><i class="fas fa-angle-up"></i><span class=sr-only>Back to top</span></div><script id=search-empty-template-nav type=text/x-js-template>
  <p class="p-2">Please enter a word or phrase above</p>
</script><script id=search-no-results-template-nav type=text/x-js-template>
  <p class="p-2">No matches found</p>
</script><script id=search-result-template-nav type=text/x-js-template>
  <a href="${link}" id="summary-${key}" class="result ignore-color-change">
    <div class="p-2">
      <h5>${title}</h5>
      <p class="m-0 text-body">${snippet}</p>
      ${ isset tags }<p>Tags: ${tags}</p>${ end }
      ${ isset categories }<p>Categories: ${categories}</p>${ end }
    </div>
  </a>
</script><script>(function(){var fragmentName="nav";window.syna.api.register('search','search-'+fragmentName,{searchInput:`#search-query-${fragmentName}`,resultsContainer:`#search-results-${fragmentName}`,template:`#search-result-template-${fragmentName}`,noResults:`#search-no-results-template-${fragmentName}`,empty:`#search-empty-template-${fragmentName}`,});var resultsContainer=document.querySelector(`#${fragmentName} .search-results-container`)
document.querySelector(`#search-query-${fragmentName}`).addEventListener('input',function(e){if(e.target.value.length){resultsContainer.classList.add('show');}else{resultsContainer.classList.remove('show');}});document.addEventListener('click',function(e){if(!document.querySelector(`#${fragmentName} .search-container`).contains(e.target)){document.querySelector(`#search-query-${fragmentName}`).value='';resultsContainer.classList.remove('show');}});})();</script><section id=content class="fragment content-fragment"><div class="container-fluid bg-light overlay"><div class="container py-5 overlay"><div class=row><div class="content-sidebar col-md-3 pb-4 px-md-0 order-0"><div class="sticky-top pt-3"><div class="content-sidebar-body col-12 px-0 text-left text-body"><section class=fragment><div class="container p-0"><div class="row mx-0 text-body"><article id=list-page-overview class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-overview .collapse" data-add-collapse="#list-page-overview .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/overview/>Overview</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/overview/#how-it-works>How it works</a></li><li><a href=https://www.eclipse.org/glsp/documentation/overview/#customization-and-extension>Customization and Extension</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-gettingstarted class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-gettingstarted .collapse" data-add-collapse="#list-page-gettingstarted .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/gettingstarted/>Getting Started</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-integrations class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-integrations .collapse" data-add-collapse="#list-page-integrations .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/integrations/>Servers & Integrations</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li></li><li><a href=https://www.eclipse.org/glsp/documentation/integrations/#package-architecture>Package Architecture</a></li><li><a href=https://www.eclipse.org/glsp/documentation/integrations/#server-frameworks>Server Frameworks</a></li><li><a href=https://www.eclipse.org/glsp/documentation/integrations/#source-model-integrations>Source Model Integrations</a></li><li><a href=https://www.eclipse.org/glsp/documentation/integrations/#platform-integrations>Platform Integrations</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-sourcemodel class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-sourcemodel .collapse" data-add-collapse="#list-page-sourcemodel .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/sourcemodel/>Source Model & State</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/sourcemodel/#source-model>Source Model</a></li><li><a href=https://www.eclipse.org/glsp/documentation/sourcemodel/#source-model-storage-and-model-state>Source Model Storage and Model State</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-gmodel class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-gmodel .collapse" data-add-collapse="#list-page-gmodel .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/gmodel/>Graphical Model</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/gmodel/#graphical-model-structure>Graphical Model Structure</a></li><li><a href=https://www.eclipse.org/glsp/documentation/gmodel/#graphical-model-factory>Graphical Model Factory</a></li><li><a href=https://www.eclipse.org/glsp/documentation/gmodel/#extending-the-graphical-model>Extending the Graphical Model</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-rendering class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-rendering .collapse" data-add-collapse="#list-page-rendering .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/rendering/>Rendering & Styling</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#rendering>Rendering</a></li><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#default-views>Default Views</a></li><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#styling>Styling</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-clientlayouting class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-clientlayouting .collapse" data-add-collapse="#list-page-clientlayouting .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/clientlayouting/>Client-side Layouting</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/clientlayouting/#layout-container>Layout Container</a></li><li><a href=https://www.eclipse.org/glsp/documentation/clientlayouting/#edge-layout>Edge Layout</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-ui-extensions class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-ui-extensions .collapse" data-add-collapse="#list-page-ui-extensions .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/ui-extensions/>UI Extensions</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/ui-extensions/#register-and-activate-custom-ui-extensions>Register and activate custom UI Extensions</a></li><li><a href=https://www.eclipse.org/glsp/documentation/ui-extensions/#button-overlay-showcase>Button Overlay Showcase</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-actionhandler class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-actionhandler .collapse" data-add-collapse="#list-page-actionhandler .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/actionhandler/>Actions & Action Handlers</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/actionhandler/#overview>Overview</a></li><li><a href=https://www.eclipse.org/glsp/documentation/actionhandler/#action-specification>Action specification</a></li><li><a href=https://www.eclipse.org/glsp/documentation/actionhandler/#implementing-an-action-handler-glsp-server>Implementing an Action Handler (GLSP Server)</a></li><li><a href=https://www.eclipse.org/glsp/documentation/actionhandler/#implementing-an-action-handler-glsp-client>Implementing an Action Handler (GLSP Client)</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-modeloperations class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-modeloperations .collapse" data-add-collapse="#list-page-modeloperations .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0 active-page"><a href=https://www.eclipse.org/glsp/documentation/modeloperations/>Model Operations</a></h5></div></div><div class="collapse show"><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operations-are-just-special-actions>Operations are just special actions</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-handlers-vs-operation-action-handler>Operation handlers vs. operation action handler</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-handlers>Operation handlers</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-action-handler>Operation action handler</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-validation class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-validation .collapse" data-add-collapse="#list-page-validation .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/validation/>Model Validation</a></h5></div></div><div class=collapse></div></article><article id=list-page-protocol class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-protocol .collapse" data-add-collapse="#list-page-protocol .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/protocol/>GLSP Protocol</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#1-server-client-lifecycle>1. Server-Client Lifecycle</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#2-graphical-language-server-protocol>2. Graphical Language Server Protocol</a><ul><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#21-base-protocol>2.1. Base Protocol</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#22-model-structure>2.2. Model Structure</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#23-types>2.3. Types</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#24-model-data>2.4 Model Data</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#25-model-saving>2.5. Model Saving</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#26-model-layout>2.6. Model Layout</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#27-model-edit-mode>2.7. Model Edit Mode</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#28-client-side-actions>2.8. Client-Side Actions</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#29-element-hover>2.9. Element Hover</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#210-element-validation>2.10. Element Validation</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#211-element-navigation>2.11. Element Navigation</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#212-element-type-hints>2.12. Element Type Hints</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#213-element-creation-and-deletion>2.13. Element Creation and Deletion</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#214-node-modification>2.14. Node Modification</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#215-edge-modification>2.15. Edge Modification</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#216-element-text-editing>2.16. Element Text Editing</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#217-clipboard>2.17. Clipboard</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#218-undo--redo>2.18. Undo / Redo</a></li><li><a href=https://www.eclipse.org/glsp/documentation/protocol/#219-contexts>2.19. Contexts</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-additionals class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-additionals .collapse" data-add-collapse="#list-page-additionals .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/additionals/>More Articles & Videos</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/additionals/#articles>Articles</a></li><li><a href=https://www.eclipse.org/glsp/documentation/additionals/#videos>Videos</a></li></ul></li></ul></nav></div></div></section></div></article></div></div></section></div></div></div><article class=col-md-9><div class="title-container row mx-0"><div class="title col px-0 text-center text-body"><h2>Model Operations</h2></div></div><div class="content-body col-12 content px-0 text-body"><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operations-are-just-special-actions>Operations are just special actions</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-handlers-vs-operation-action-handler>Operation handlers vs. operation action handler</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-handlers>Operation handlers</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-action-handler>Operation action handler</a></li></ul></li></ul></nav></div></div></section><h3 id=operations-are-just-special-actions>Operations are just special actions</h3><p>In the previous section, we discussed <a href=/glsp/documentation/actionhandler/>actions and action handlers</a> as the general way of how a diagram client and a diagram server communicate with each other and how they can invoke behavior or query data from each other.
If such a behavior of an action now is intended to change the <a href=/glsp/documentation/sourcemodel/>underlying source model</a> on the server, there is a dedicated type of action for that: <em>a model operation</em> or operation for short.</p><p>An operation is a special type of action denoting a request for performing a specific modification of the source model.
An operation <code>kind</code> identifier declares the specific modification to be applied.
GLSP defines a set of reusable pre-defined operation types, such as for adding and deleting nodes and edges (see <a href=/documentation/protocol/>protocol</a> for a detailed list).
This pre-defined set of operations, however, can be easily extended by custom operation types.
Each operation type can define additional attributes, such as the coordinates on which a node is to be created, that are required to perform the model modification.
Note, however, that many pre-defined operation types support generic arguments (see property <code>args</code> in the type definitions), which allow to pass on simple, custom data with the existing pre-defined operations without the overhead of defining custom operation types.</p><p>In the following, we show an example of defining a custom operation.</p><details open><summary>GLSP Client/Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>MyOperation</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Operation</span> {
    <span style=color:#a6e22e>kind</span>: <span style=color:#66d9ef>MyOperation.KIND</span>;
    <span style=color:#a6e22e>elementId</span>: <span style=color:#66d9ef>string</span>;
    <span style=color:#a6e22e>location?</span>: <span style=color:#66d9ef>Point</span>;
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>MyOperation</span> {
    <span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>KIND</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;runMyOperation&#39;</span>;
    <span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>create</span>(
        <span style=color:#a6e22e>elementId</span>: <span style=color:#66d9ef>string</span>,
        <span style=color:#a6e22e>options</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>location?</span>: <span style=color:#66d9ef>Point</span> } <span style=color:#f92672>=</span> {}
    )<span style=color:#f92672>:</span> <span style=color:#a6e22e>MyOperation</span> {
        <span style=color:#66d9ef>return</span> {
            <span style=color:#a6e22e>kind</span>: <span style=color:#66d9ef>KIND</span>,
            <span style=color:#a6e22e>isOperation</span>: <span style=color:#66d9ef>true</span>,
            <span style=color:#a6e22e>elementId</span>,
            ...<span style=color:#a6e22e>options</span>
        };
    }
}
</code></pre></div></details><details closed><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyOperation</span> <span style=color:#66d9ef>extends</span> Operation <span style=color:#f92672>{</span>

   <span style=color:#66d9ef>private</span> String elementId<span style=color:#f92672>;</span>
   <span style=color:#66d9ef>private</span> GPoint location<span style=color:#f92672>;</span>

   <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>MyOperation</span><span style=color:#f92672>(</span><span style=color:#66d9ef>final</span> String elementId<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>this</span><span style=color:#f92672>(</span>elementId<span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>);</span>
   <span style=color:#f92672>}</span>

   <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>MyOperation</span><span style=color:#f92672>(</span><span style=color:#66d9ef>final</span> String elementId<span style=color:#f92672>,</span> <span style=color:#66d9ef>final</span> GPoint location<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
      <span style=color:#66d9ef>this</span><span style=color:#f92672>();</span>
      <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>elementId</span> <span style=color:#f92672>=</span> elementId<span style=color:#f92672>;</span>
      <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>location</span> <span style=color:#f92672>=</span> location<span style=color:#f92672>;</span>
   <span style=color:#f92672>}</span>

   <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>MyOperation</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
      <span style=color:#66d9ef>super</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;runMyOperation&#34;</span><span style=color:#f92672>);</span>
   <span style=color:#f92672>}</span>

   <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getElementId</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>return</span> elementId<span style=color:#f92672>;</span> <span style=color:#f92672>}</span>

   <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setElementId</span><span style=color:#f92672>(</span><span style=color:#66d9ef>final</span> String elementId<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>elementId</span> <span style=color:#f92672>=</span> elementId<span style=color:#f92672>;</span> <span style=color:#f92672>}</span>

   <span style=color:#66d9ef>public</span> Optional<span style=color:#f92672>&lt;</span>GPoint<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>getLocation</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>return</span> Optional<span style=color:#f92672>.</span><span style=color:#a6e22e>ofNullable</span><span style=color:#f92672>(</span>location<span style=color:#f92672>);</span> <span style=color:#f92672>}</span>

   <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setLocation</span><span style=color:#f92672>(</span><span style=color:#66d9ef>final</span> GPoint location<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>location</span> <span style=color:#f92672>=</span> location<span style=color:#f92672>;</span> <span style=color:#f92672>}</span>

<span style=color:#f92672>}</span>
</code></pre></div></details></br><p>As an operation is just a special type of action, it can be invoked as any other action via the action dispatcher.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>@inject</span>(<span style=color:#a6e22e>TYPES</span>.<span style=color:#a6e22e>IActionDispatcher</span>) <span style=color:#66d9ef>protected</span> <span style=color:#a6e22e>actionDispatcher</span>: <span style=color:#66d9ef>GLSPActionDispatcher</span>;
<span style=color:#960050;background-color:#1e0010>…</span>
<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>actionDispatcher</span>.<span style=color:#a6e22e>dispatch</span>(<span style=color:#a6e22e>MyOperation</span>.<span style=color:#a6e22e>create</span>(<span style=color:#a6e22e>element</span>.<span style=color:#a6e22e>id</span>, { <span style=color:#a6e22e>location</span><span style=color:#f92672>:</span> { ... } }));
</code></pre></div><h3 id=operation-handlers-vs-operation-action-handler>Operation handlers vs. operation action handler</h3><p>Only the server is capable of performing source model modifications and, thus, operations must always be handled on the server only.
Therefore, there is a single action handler on the server that handles all types of operations: the <code>OperationActionHandler</code>.
This single operation action handler, however, delegates the execution of the actual source model modification to one of the specific <code>OperationHandler</code> implementations registered for specific operation types on the server.</p><p>In summary, the operation action handler manages the steps to be done before and after any model manipulation, whereas the actual source model manipulations are implemented in operation handlers that can be registered for specific operation types.</p><h3 id=operation-handlers>Operation handlers</h3><p>Operation handlers are implementations of a specific type of source model manipluations, such as adding or deleting nodes.
Thus, they are registered for a specific operation kind in the diagram server modules.
Of course, operation handlers are typically specific to the respective source model language and framework (i.e. the data format, metamodel, or model API), as they implement how the current source model needs to be changed for a specific operation kind.
Consequently, the actual implementation is specific to your particular scenario.</p><p>The registration and basic structure of operation handlers is set up as follows:</p><details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyServerModule</span> <span style=color:#66d9ef>extends</span> DiagramModule <span style=color:#f92672>{</span>
  <span style=color:#f92672>...</span>
  <span style=color:#a6e22e>@Override</span>
   <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>configureOperationHandlers</span><span style=color:#f92672>(</span><span style=color:#66d9ef>final</span> MultiBinding<span style=color:#f92672>&lt;</span>OperationHandler<span style=color:#f92672>&gt;</span> binding<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    binding<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>MyOperationHandler<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
   <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyOperationHandler</span> <span style=color:#66d9ef>extends</span> AbstractOperationHandler<span style=color:#f92672>&lt;</span>MyOperation<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
   <span style=color:#a6e22e>@Inject</span>
   <span style=color:#66d9ef>protected</span> MyModelState modelState<span style=color:#f92672>;</span>

   <span style=color:#a6e22e>@Override</span>
   <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>executeOperation</span><span style=color:#f92672>(</span><span style=color:#66d9ef>final</span> MyOperation operation<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#75715e>// modify your model state here
</span><span style=color:#75715e></span>   <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>@injectable</span>()
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyServerModule</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>DiagramModule</span> {
  ...
  <span style=color:#a6e22e>configureOperationHandlers</span>(<span style=color:#a6e22e>binding</span>: <span style=color:#66d9ef>InstanceMultiBinding</span>&lt;<span style=color:#f92672>OperationHandlerConstructor</span>&gt;)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#a6e22e>binding</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>MyOperationHandler</span>);
  }
}

<span style=color:#66d9ef>@injectable</span>()
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyOperationHandler</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>OperationHandler</span> {
    <span style=color:#66d9ef>readonly</span> <span style=color:#a6e22e>operationType</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>MyOperation</span>.<span style=color:#a6e22e>KIND</span>;

    <span style=color:#66d9ef>@inject</span>(<span style=color:#a6e22e>MyModelState</span>)
    <span style=color:#66d9ef>protected</span> <span style=color:#a6e22e>modelState</span>: <span style=color:#66d9ef>MyModelState</span>;

    <span style=color:#a6e22e>execute</span>(<span style=color:#a6e22e>operation</span>: <span style=color:#66d9ef>MyOperation</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>MaybePromise</span>&lt;<span style=color:#f92672>void</span>&gt; {
        <span style=color:#75715e>// modify your model state here
</span><span style=color:#75715e></span>    }
}
</code></pre></div></details></br><h3 id=operation-action-handler>Operation action handler</h3><p>The operation action handler manages the steps to be done before and after any model manipulation.
Usually, the operation action handler typically runs the operation handler&rsquo;s modification within the scope of a command stack, to support undo and redo and handles all other aspects that need to be taken care of for any type of modification.
For instance, after each successful source model modification done by an <code>OperationHandler</code>, the <code>OperationActionHandler</code> triggers the regeneration of the graphical model by calling the <a href=https://www.eclipse.org/glsp/documentation/gmodel/><code>GModelFactory</code></a> and sends the updated graph model back to the client using an <code>UpdateModelAction</code>, which then renders the update of the diagram.
See also <a href=https://www.eclipse.org/glsp/documentation/sourcemodel/#processing-edit-operations>the process of editing the source model</a>.</p><p>Also, the operation action handler is a good place in general to introduce any other steps that need to be performed before or after each model manipulation, such as triggering live validation, sending notifications to external services, etc.
Thus, it isn&rsquo;t unusual to overwrite the operation action handler for specific scenarios to inject before/after modification steps.</p><p>The operation action handler is typically agnostic of the actual source model language; it usually is, however, specific to the source model framework (e.g. EMF, JSON, etc.) as it needs to encapsulate the modification in framework-specific command API to support native undo/redo, or take snapshots before and after the manipulation and compute a patch, etc.
For the available <a href=https://www.eclipse.org/glsp/documentation/integrations/#source-model-integrations>source model framework integration</a> of GLSP (EMF, GModel-only, and JSON), a dedicated operation action handler, which often also entails a specific interface for the operation handler implementations, is provided by the respective GLSP source model libraries.</p><p>The respective default implementation of the operation action handler can be overridden in the diagram module by rebinding the implementation bound to the <code>OperationActionHandler</code> interface.</p></div></article></div></div></div></section><section id=footer class=fragment><div class="container-fluid bg-light"><div class="container py-5"><div class=row><div class="col-md m-2 text-body"><h4></h4><a href=#><img src=/glsp/images/logo.png class="img-fluid w-50" alt=GLSP></a><div class="row justify-content-left ml-0"><span class="fa-stack fa-2x mt-3 mr-1" title=twitter><a href=https://twitter.com/eclipseglsp class=ignore-color-change><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-twitter fa-stack-1x fa-fw text-light"></i><span class=sr-only>twitter</span></a></span>
<span class="fa-stack fa-2x mt-3 mr-1" title=github><a href=https://github.com/eclipse-glsp/glsp class=ignore-color-change><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-github fa-stack-1x fa-fw text-light"></i><span class=sr-only>github</span></a></span>
<span class="fa-stack fa-2x mt-3 mr-1" title=github-discussions><a href=https://github.com/eclipse-glsp/glsp/discussions class=ignore-color-change><i class="fas fa-circle fa-stack-2x"></i><i class="far fa-comments fa-stack-1x fa-fw text-light"></i><span class=sr-only>github-discussions</span></a></span></div></div><div class="col-md m-2 text-body"><h4>Related Projects</h4><ul class="nav flex-column"><li class=nav-item><a class="nav-link p-0 display-5" href=https://projects.eclipse.org/projects/ecd.sprotty>Eclipse Sprotty</a></li><li class=nav-item><a class="nav-link p-0 display-5" href=https://www.eclipse.org/emfcloud>Eclipse EMF.cloud</a></li><li class=nav-item><a class="nav-link p-0 display-5" href=https://eclipsesource.com/technology/eclipse-theia>Eclipse Theia IDE</a></li><li class=nav-item><a class="nav-link p-0 display-5" href=https://eclipse.org/che>Eclipse Che</a></li></ul></div><div class="col-md m-2 text-body"><div><h4 id=eclipse-glsp>Eclipse GLSP</h4><p>The Eclipse Graphical Language Server Platform is a project hosted at the <a href=https://www.eclipse.org>Eclipse Foundation</a>, led by <a href=https://projects.eclipse.org/projects/ecd.glsp/who>Philip Langer & Tobias Ortmayr</a>, organized within the <a href=https://projects.eclipse.org/projects/ecd>Eclipse Cloud Development</a> project.</p><p>Gefördert durch: <img src=/glsp/images/BMBF_Logo.svg alt="BMBF Logo"></p></div></div></div></div></div></section><footer class="overlay fragment container-fluid bg-secondary" id=copyright><div class=container><div class="row py-3"><div class=col-md><div class="row mx-0 my-2 justify-content-center text-center text-lg-none text-black-50"><div class="row mx-0 mr-lg-auto justify-content-center"><div class="col-auto px-1 copyright-legal">© Copyright&nbsp;2023</div><div class="col-auto px-0 copyright-by">by Eclipse Foundation</div></div></div></div><div class=col-md><div class="row mx-0 my-2 justify-content-center"><ul class="nav ml-lg-auto"><li class=nav-item><a class="nav-link py-0" href=https://projects.eclipse.org/projects/ecd.glsp>About</a></li><li class=nav-item><a class="nav-link py-0" href=https://www.eclipse.org/legal/privacy.php>Privacy Policy</a></li><li class=nav-item><a class="nav-link py-0" href=https://www.eclipse.org/legal/termsofuse.php>Terms of Use</a></li><li class=nav-item><a class="nav-link py-0" href=https://www.eclipse.org/legal/copyright.php>Copyright</a></li><li class=nav-item><a class="nav-link py-0" href=https://www.eclipse.org/legal/>Legal</a></li></ul></div></div></div></div></footer><div id=react></div><script async defer src=/glsp/scripts/syna-main.min.065c23d84ca56793a8ee2be9d091a50028dc3505b5e4962af6444d641ed77ff5.js></script><script async defer src=/glsp/scripts/syna-search.min.be96fcdb5b1bfc9ff80f633ea20d203a74487d142ebbe9095a9478b2479d4203.js></script><script async defer src=/glsp/scripts/syna-content.min.3f176160ef27cbeeb1c26d718677d4e66e40b70421d8745f6d667dcad23a6850.js></script><script async defer src=/glsp/scripts/syna-collapse.min.e53f62e26af14c1839865c3eb2f19520509399d957f5520e410b1f11ffee93c1.js></script></body></html>
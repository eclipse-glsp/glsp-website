<!doctype html><html lang=en-us><head><meta name=theme content="Syna"><meta name=theme-version content="v0.17.4"><meta name=theme-url content="https://syna.okkur.org"><meta name=theme-description content="Highly customizable open source theme for Hugo based static websites"><meta name=theme-author content="Okkur Labs"><meta name=theme-author-url content="https://about.okkur.org"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=google content="notranslate"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=description content="Rendering The input of the diagram rendering on the client is the GModel that has been generated on the server from the source model (see Graphical Model) and sent to the client via a SetModelAction or UpdateModelAction. The client is then responsible for rendering the GModel.
In order to render the received graphical model, each graphical element type needs to be associated with a view on the client. A view defines how a specific type of graphical element shall be transformed into a corresponding SVG representation."><meta property="og:title" content="Rendering & Styling"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://www.eclipse.org/glsp/documentation/rendering/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Rendering & Styling &amp;middot; Eclipse Graphical Language Server Platform"><meta name=twitter:description content="Rendering The input of the diagram rendering on the client is the GModel that has been generated on the server from the source model (see Graphical Model) and sent to the client via a SetModelAction or UpdateModelAction. The client is then responsible for rendering the GModel.
In order to render the received graphical model, each graphical element type needs to be associated with a view on the client. A view defines how a specific type of graphical element shall be transformed into a corresponding SVG representation."><meta name=twitter:url content="https://www.eclipse.org/glsp/documentation/rendering/"><meta property="og:image" content><meta name=twitter:image content><meta name=author content="Eclipse Foundation"><meta name=generator content="Hugo 0.78.1"><title>Rendering & Styling &middot; Eclipse Graphical Language Server Platform</title><style>.mx-0{margin-left:0!important;margin-right:0!important}@-ms-viewport{width: device-width; }html{box-sizing:border-box;-ms-overflow-style:scrollbar}*,*::before,*::after{box-sizing:inherit}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;max-width:540px;max-width:720px;max-width:960px;max-width:1140px}.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col-1,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-10,.col-11,.col-12,.col,.col-auto{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.col{flex-basis:0;flex-grow:1;max-width:100%}.col-auto{flex:0 0 auto;width:auto;max-width:none}.col-1{flex:0 0 8.33333%;max-width:8.33333%}.col-2{flex:0 0 16.66667%;max-width:16.66667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.33333%;max-width:33.33333%}.col-5{flex:0 0 41.66667%;max-width:41.66667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.33333%;max-width:58.33333%}.col-8{flex:0 0 66.66667%;max-width:66.66667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.33333%;max-width:83.33333%}.col-11{flex:0 0 91.66667%;max-width:91.66667%}.col-12{flex:0 0 100%;max-width:100%}.order-first{order:-1}.order-last{order:13}.order-0{order:0}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.order-6{order:6}.order-7{order:7}.order-8{order:8}.order-9{order:9}.order-10{order:10}.order-11{order:11}.order-12{order:12}.offset-1{margin-left:8.33333%}.offset-2{margin-left:16.66667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333%}.offset-5{margin-left:41.66667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333%}.offset-8{margin-left:66.66667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333%}.offset-11{margin-left:91.66667%}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-fill{flex:1 1 auto!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}</style><link href=https://www.eclipse.org/glsp/style.min.22cd872de50060107e56c516d998a642b2d73f8b4495cfdab6ecc5fb9b3719c5.css rel=stylesheet><link rel="shortcut icon" type=image/x-icon href=favicon.ico><link rel=icon sizes="16x16 32x32" type=image/x-icon href=/glsp/favicon.ico><link rel=icon href=/glsp/favicon.png><link rel=apple-touch-icon-precomposed href=/glsp/favicon.png><script>window.syna={};</script><script src=/glsp/scripts/syna-head.min.39bf5c0a13b9259b89a61f939da69c098cd8bf74be53a960cb951c39ad08db54.js></script></head><body class=bg-secondary><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "06f5cd775d484737a074b8122aae40ef"}'></script><nav class="overlay fragment navbar navbar-expand-lg py-2 scroll-spy bg-light navbar-light" id=nav role=navigation><div class=container><a class="navbar-brand py-0" href=/glsp/#><img src=/glsp/images/logo.png height=35 class="d-inline-block align-top" alt=GLSP></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse justify-content-between collapse show" id=navbarCollapse><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/glsp>Home</a></li><li class=nav-item><a class=nav-link href=/glsp/support>Support</a></li><li class=nav-item><a class=nav-link href=/glsp/documentation>Documentation</a></li><li class=nav-item><a class=nav-link href=/glsp/examples>Examples</a></li><li class=nav-item><a class=nav-link href=/glsp/gallery>Gallery</a></li><li class=nav-item><a class=nav-link href=/glsp/contact>Contact</a></li><li class=nav-item><a class=nav-link href=https://github.com/eclipse-glsp/glsp>GitHub</a></li></ul><div class="search-container position-relative"><form action=https://www.eclipse.org/glsp/search class=my-0><div class="input-group my-0"><input type=text class="form-control py-1" id=search-query-nav name=s placeholder=Search...><div class=input-group-append><button class="btn btn-primary" title=Search><i class="fa fa-search"></i></button></div></div></form><div class=search-results-container><div class="col p-0"><div id=search-results-nav class="col px-0 results"></div></div></div></div></div></div></nav><div class="scroll-to-top bg-primary has-font-icon" title="Back to top"><i class="fas fa-angle-up"></i><span class=sr-only>Back to top</span></div><script id=search-empty-template-nav type=text/x-js-template>
  <p class="p-2">Please enter a word or phrase above</p>
</script><script id=search-no-results-template-nav type=text/x-js-template>
  <p class="p-2">No matches found</p>
</script><script id=search-result-template-nav type=text/x-js-template>
  <a href="${link}" id="summary-${key}" class="result ignore-color-change">
    <div class="p-2">
      <h5>${title}</h5>
      <p class="m-0 text-body">${snippet}</p>
      ${ isset tags }<p>Tags: ${tags}</p>${ end }
      ${ isset categories }<p>Categories: ${categories}</p>${ end }
    </div>
  </a>
</script><script>(function(){var fragmentName="nav";window.syna.api.register('search','search-'+fragmentName,{searchInput:`#search-query-${fragmentName}`,resultsContainer:`#search-results-${fragmentName}`,template:`#search-result-template-${fragmentName}`,noResults:`#search-no-results-template-${fragmentName}`,empty:`#search-empty-template-${fragmentName}`,});var resultsContainer=document.querySelector(`#${fragmentName} .search-results-container`)
document.querySelector(`#search-query-${fragmentName}`).addEventListener('input',function(e){if(e.target.value.length){resultsContainer.classList.add('show');}else{resultsContainer.classList.remove('show');}});document.addEventListener('click',function(e){if(!document.querySelector(`#${fragmentName} .search-container`).contains(e.target)){document.querySelector(`#search-query-${fragmentName}`).value='';resultsContainer.classList.remove('show');}});})();</script><section id=content class="fragment content-fragment"><div class="container-fluid bg-light overlay"><div class="container py-5 overlay"><div class=row><div class="content-sidebar col-md-3 pb-4 px-md-0 order-0"><div class="sticky-top pt-3"><div class="content-sidebar-body col-12 px-0 text-left text-body"><section class=fragment><div class="container p-0"><div class="row mx-0 text-body"><article id=list-page-overview class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-overview .collapse" data-add-collapse="#list-page-overview .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/overview/>Overview</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/overview/#how-it-works>How it works</a></li><li><a href=https://www.eclipse.org/glsp/documentation/overview/#customization-and-extension>Customization and Extension</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-gettingstarted class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-gettingstarted .collapse" data-add-collapse="#list-page-gettingstarted .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/gettingstarted/>Getting Started</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-integrations class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-integrations .collapse" data-add-collapse="#list-page-integrations .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/integrations/>Servers & Integrations</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li></li><li><a href=https://www.eclipse.org/glsp/documentation/integrations/#package-architecture>Package Architecture</a></li><li><a href=https://www.eclipse.org/glsp/documentation/integrations/#server-frameworks>Server Frameworks</a></li><li><a href=https://www.eclipse.org/glsp/documentation/integrations/#source-model-integrations>Source Model Integrations</a></li><li><a href=https://www.eclipse.org/glsp/documentation/integrations/#platform-integrations>Platform Integrations</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-sourcemodel class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-sourcemodel .collapse" data-add-collapse="#list-page-sourcemodel .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/sourcemodel/>Source Model & State</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/sourcemodel/#source-model>Source Model</a></li><li><a href=https://www.eclipse.org/glsp/documentation/sourcemodel/#source-model-storage-and-model-state>Source Model Storage and Model State</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-gmodel class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-gmodel .collapse" data-add-collapse="#list-page-gmodel .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/gmodel/>Graphical Model</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/gmodel/#graphical-model-structure>Graphical Model Structure</a></li><li><a href=https://www.eclipse.org/glsp/documentation/gmodel/#graphical-model-factory>Graphical Model Factory</a></li><li><a href=https://www.eclipse.org/glsp/documentation/gmodel/#extending-the-graphical-model>Extending the Graphical Model</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-rendering class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-rendering .collapse" data-add-collapse="#list-page-rendering .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0 active-page"><a href=https://www.eclipse.org/glsp/documentation/rendering/>Rendering & Styling</a></h5></div></div><div class="collapse show"><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#rendering>Rendering</a></li><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#default-views>Default Views</a></li><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#styling>Styling</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-clientlayouting class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-clientlayouting .collapse" data-add-collapse="#list-page-clientlayouting .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/clientlayouting/>Client-side Layouting</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/clientlayouting/#layout-container>Layout Container</a></li><li><a href=https://www.eclipse.org/glsp/documentation/clientlayouting/#edge-layout>Edge Layout</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-ui-extensions class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-ui-extensions .collapse" data-add-collapse="#list-page-ui-extensions .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/ui-extensions/>UI Extensions</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/ui-extensions/#register-and-activate-custom-ui-extensions>Register and activate custom UI Extensions</a></li><li><a href=https://www.eclipse.org/glsp/documentation/ui-extensions/#button-overlay-showcase>Button Overlay Showcase</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-actionhandler class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-actionhandler .collapse" data-add-collapse="#list-page-actionhandler .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/actionhandler/>Actions & Action Handlers</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/actionhandler/#overview>Overview</a></li><li><a href=https://www.eclipse.org/glsp/documentation/actionhandler/#action-specification>Action specification</a></li><li><a href=https://www.eclipse.org/glsp/documentation/actionhandler/#implementing-an-action-handler-glsp-server>Implementing an Action Handler (GLSP Server)</a></li><li><a href=https://www.eclipse.org/glsp/documentation/actionhandler/#implementing-an-action-handler-glsp-client>Implementing an Action Handler (GLSP Client)</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-modeloperations class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-modeloperations .collapse" data-add-collapse="#list-page-modeloperations .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/modeloperations/>Model Operations</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operations-are-just-special-actions>Operations are just special actions</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-handlers-vs-operation-action-handler>Operation handlers vs. operation action handler</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-handlers>Operation handlers</a></li><li><a href=https://www.eclipse.org/glsp/documentation/modeloperations/#operation-action-handler>Operation action handler</a></li></ul></li></ul></nav></div></div></section></div></article><article id=list-page-validation class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-validation .collapse" data-add-collapse="#list-page-validation .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/validation/>Model Validation</a></h5></div></div><div class=collapse></div></article><article id=list-page-additionals class="col-12 px-0 mb-2"><div class="col-12 pl-0 pb-1 text-body"><div data-toggle=collapse data-target="#list-page-additionals .collapse" data-add-collapse="#list-page-additionals .article-title" class="row align-items-center justify-content-between mx-0 article-title"><h5 class="col px-0 m-0"><a href=https://www.eclipse.org/glsp/documentation/additionals/>More Articles & Videos</a></h5></div></div><div class=collapse><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/additionals/#articles>Articles</a></li><li><a href=https://www.eclipse.org/glsp/documentation/additionals/#videos>Videos</a></li></ul></li></ul></nav></div></div></section></div></article></div></div></section></div></div></div><article class=col-md-9><div class="title-container row mx-0"><div class="title col px-0 text-center text-body"><h2>Graphical Model Rendering & Styling</h2></div></div><div class="content-body col-12 content px-0 text-body"><section class=fragment><div class="container p-0"><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#rendering>Rendering</a></li><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#default-views>Default Views</a></li><li><a href=https://www.eclipse.org/glsp/documentation/rendering/#styling>Styling</a></li></ul></li></ul></nav></div></div></section><h3 id=rendering>Rendering</h3><p>The input of the diagram rendering on the client is the GModel that has been generated on the server from the source model (see <a href=https://www.eclipse.org/glsp/documentation/gmodel/>Graphical Model</a>) and sent to the client via a <a href=https://github.com/eclipse-glsp/glsp/blob/master/PROTOCOL.md#242-setmodelaction>SetModelAction</a> or <a href=https://github.com/eclipse-glsp/glsp/blob/master/PROTOCOL.md#243-updatemodelaction>UpdateModelAction</a>.
The client is then responsible for rendering the GModel.</p><p>In order to render the received graphical model, each graphical element type needs to be associated with a view on the client.
A view defines how a specific type of graphical element shall be transformed into a corresponding SVG representation.
The derived SVG elements are then rendered on the canvas of the diagram widget.</p><p>To define a new view, we have to create a class that implements the <code>IView</code> interface and register it for a specific type that is used in the graphical model.
As an example, let’s configure that the view named <code>SLabelView</code> is used for all elements with the type “label:custom”.
Therefore, we first need to create a dependency injection module, named <code>customDiagramModule</code> below, and configure the SLabelView for the graphical model element type “label:custom” using the <code>configureModelElement()</code> utility function:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>customDiagramModule</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ContainerModule</span>(
  (<span style=color:#a6e22e>bind</span>, <span style=color:#a6e22e>unbind</span>, <span style=color:#a6e22e>isBound</span>, <span style=color:#a6e22e>rebind</span>) <span style=color:#f92672>=&gt;</span> {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>context</span> <span style=color:#f92672>=</span> { <span style=color:#a6e22e>bind</span>, <span style=color:#a6e22e>unbind</span>, <span style=color:#a6e22e>isBound</span>, <span style=color:#a6e22e>rebind</span> };
    <span style=color:#a6e22e>configureModelElement</span>(<span style=color:#a6e22e>context</span>, <span style=color:#e6db74>&#34;label:custom&#34;</span>, <span style=color:#a6e22e>SLabel</span>, <span style=color:#a6e22e>SLabelView</span>);
  }
);
</code></pre></div><p>The <code>configureModeElement()</code> function takes the inversify binding context, the graphical model type, its model class and its associated view as input. Under the hood this function sets up the necessary bindings so that the <em>GLSP client</em> knows that</p><ul><li>Graphical model elements (received from the GLSP Server) with type ‘label:custom’ are deserialized to instances of <code>SLabel</code></li><li>Graphical model element with type ‘label:custom’ are rendered with the <code>SLabelView</code></li></ul><p>In order to be effective, we need to load the module <code>customDiagramModule</code> defined above in the diagram DI container, aka the root &ldquo;di.config.ts&rdquo; of your diagram implementation.
With that, every element of type “label:custom” will be rendered with the view implementation <code>SLabelView</code>.</p><p>Views themselves are typically implemented with <a href=https://www.typescriptlang.org/docs/handbook/jsx.html>JSX</a>, which simplifies the definition of SVG elements in Typescript. Therefore, the following generic imports are required in any module declaring a view to enable declaration of svg elements with JSX:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#75715e>/** @jsx svg */</span>
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>VNode</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;snabbdom&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>RenderingContext</span>, <span style=color:#a6e22e>svg</span> } <span style=color:#66d9ef>from</span> <span style=color:#960050;background-color:#1e0010>‘</span><span style=color:#66d9ef>@eclipse</span><span style=color:#f92672>-</span><span style=color:#a6e22e>glsp</span><span style=color:#f92672>/</span><span style=color:#a6e22e>client</span><span style=color:#960050;background-color:#1e0010>’</span>;
</code></pre></div><p>In addition, make sure that the following options are set in the <code>tsconfig.json</code> file of your project:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#f92672>&#34;compilerOptions&#34;</span>: {
    <span style=color:#f92672>&#34;jsx&#34;</span>:<span style=color:#e6db74>&#34;react&#34;</span>,
    <span style=color:#f92672>&#34;reactNamespace&#34;</span>:<span style=color:#e6db74>&#34;JSX&#34;</span>
}
</code></pre></div><p>With that, we can implement a view as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=color:#66d9ef>@injectable</span>()
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SLabelView</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>ShapeView</span> {
  <span style=color:#a6e22e>render</span>(
    <span style=color:#a6e22e>label</span>: <span style=color:#66d9ef>Readonly</span>&lt;<span style=color:#f92672>SLabel</span>&gt;,
    <span style=color:#a6e22e>context</span>: <span style=color:#66d9ef>RenderingContext</span>
  )<span style=color:#f92672>:</span> <span style=color:#a6e22e>VNode</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>undefined</span> {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>isEdgeLayoutable</span>(<span style=color:#a6e22e>label</span>) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>isVisible</span>(<span style=color:#a6e22e>label</span>, <span style=color:#a6e22e>context</span>)) {
      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>undefined</span>;
    }
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>vnode</span> <span style=color:#f92672>=</span> &lt;<span style=color:#f92672>text</span> <span style=color:#a6e22e>class</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>sprotty</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span>{<span style=color:#66d9ef>true</span>}&gt;{<span style=color:#a6e22e>label</span>.<span style=color:#a6e22e>text</span>}&lt;/<span style=color:#f92672>text</span>&gt;;
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>subType</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getSubType</span>(<span style=color:#a6e22e>label</span>);
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>subType</span>) {
      <span style=color:#a6e22e>setAttr</span>(<span style=color:#a6e22e>vnode</span>, <span style=color:#e6db74>&#34;class&#34;</span>, <span style=color:#a6e22e>subType</span>);
    }
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>vnode</span>;
  }
}
</code></pre></div><p>Every view has to implement the <code>render()</code> method.
The <code>render()</code> method takes the graphical model element as input and returns the corresponding SVG element as virtual DOM node.
The viewer queries all registered views and creates a new virtual DOM which is then used to patch the current DOM of the diagram widget.</p><p>Note that the <code>SLabelView</code> also checks whether the given element is visible and skips the SVG generation if the element is not visible in the diagram canvas.
This check is optional but it’s highly recommended to implement it in your custom views as it heavily improves the rendering performance.</p><p></br></br></p><h3 id=default-views>Default Views</h3><p>The following sections give an overview of available default views in Sprotty and GLSP and how to configure them.
All of them are default model elements, which is already configured in the <a href=https://github.com/eclipse-glsp/glsp-client/blob/master/packages/client/src/views/base-view-module.ts><code>baseViewModule</code></a>,
but for the sake of completeness we list the configuration of the elements in the collapsible example code blocks.</p><h4 id=default-sprotty-views>Default Sprotty Views</h4><p>The following views are provided by the base framework <a href=https://github.com/eclipse/sprotty>Sprotty</a>.</p><h5 id=circularnodeviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrclibsvg-viewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/lib/svg-views.tsx>CircularNodeView</a></h5><p>A <code>CircularNodeView</code> creates a round shape with a radius computed from the shape&rsquo;s size (by default it computes the radius by the minimum of the shape&rsquo;s width or height and divides that by 2).
The computation of the radius can be overridden and adapted to custom needs.</p><p align=center><img src=./circular-node-view.png alt=circular-node-view></p><p align=center><em>Circular nodes with a radius of `17.5` (1), `42.5` (2) and `7.5`.</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>()</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>(</span>DefaultTypes<span style=color:#f92672>.</span><span style=color:#a6e22e>NODE_CIRCLE</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>point<span style=color:#f92672>.</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 0<span style=color:#f92672>)))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>dimension</span><span style=color:#f92672>(</span>15<span style=color:#f92672>,</span> 15<span style=color:#f92672>))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE_CIRCLE</span>)
  .<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>point</span> <span style=color:#f92672>??</span> <span style=color:#a6e22e>Point</span>.<span style=color:#a6e22e>ORIGIN</span>)
  .<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>15</span>)
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>The circular node element and its view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE_CIRCLE</span>,
  <span style=color:#a6e22e>CircularNode</span>,
  <span style=color:#a6e22e>CircularNodeView</span>
);
</code></pre></div></details></br><h5 id=diamondnodeviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrclibsvg-viewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/lib/svg-views.tsx>DiamondNodeView</a></h5><p>A <code>DiamondNodeView</code> creates a rhombus shape based on the shape&rsquo;s size.</p><p align=center><img src=./diamond-node-view.png alt=diamond-node-view></p><p align=center><em>Diamond nodes with dimensions of `(25,25)` (1), `(20,41)` (2) and `(66,33)`.</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>()</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>(</span>DefaultTypes<span style=color:#f92672>.</span><span style=color:#a6e22e>NODE_DIAMOND</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>point<span style=color:#f92672>.</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 0<span style=color:#f92672>)))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>dimension</span><span style=color:#f92672>(</span>25<span style=color:#f92672>,</span> 25<span style=color:#f92672>))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE_DIAMOND</span>)
  .<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>point</span> <span style=color:#f92672>??</span> <span style=color:#a6e22e>Point</span>.<span style=color:#a6e22e>ORIGIN</span>)
  .<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>25</span>)
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>The diamond node element and its view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE_DIAMOND</span>,
  <span style=color:#a6e22e>DiamondNode</span>,
  <span style=color:#a6e22e>DiamondNodeView</span>
);
</code></pre></div></details></br><h5 id=expandbuttonviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrcfeaturesexpandviewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/features/expand/views.tsx>ExpandButtonView</a></h5><p>The <code>ExpandButtonView</code> renders a SVG element in the shape of a triangle that allows expandable parent elements to trigger expansion, for example to display further element information.</p><p align=center><img src=./expand-button-view.png alt=expand-button-view></p><p align=center><em>A rectangular node with an expandable button that renders additional elements if expanded (right).</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>()</span>
  <span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;node:expandable&#34;</span><span style=color:#f92672>)</span>
  <span style=color:#f92672>.</span><span style=color:#a6e22e>addCssClass</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;node-expandable&#34;</span><span style=color:#f92672>)</span>
  <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>point<span style=color:#f92672>.</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 0<span style=color:#f92672>)))</span>
  <span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>(</span>GConstants<span style=color:#f92672>.</span><span style=color:#a6e22e>Layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>HBOX</span><span style=color:#f92672>)</span>
  <span style=color:#f92672>.</span><span style=color:#a6e22e>layoutOptions</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> GLayoutOptions<span style=color:#f92672>().</span><span style=color:#a6e22e>hGap</span><span style=color:#f92672>(</span>15<span style=color:#f92672>))</span>
  <span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> GLabelBuilder<span style=color:#f92672>().</span><span style=color:#a6e22e>text</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Expand&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>build</span><span style=color:#f92672>())</span>
  <span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> GButtonBuilder<span style=color:#f92672>()</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>(</span>DefaultTypes<span style=color:#f92672>.</span><span style=color:#a6e22e>EXPAND_BUTTON</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>addCssClass</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;button-expand&#34;</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>enabled</span><span style=color:#f92672>(</span><span style=color:#66d9ef>true</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>())</span>
  <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#66d9ef>type</span>(<span style=color:#e6db74>&#34;node:expandable&#34;</span>)
  .<span style=color:#a6e22e>addCssClass</span>(<span style=color:#e6db74>&#34;node-expandable&#34;</span>)
  .<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>point</span> <span style=color:#f92672>??</span> <span style=color:#a6e22e>Point</span>.<span style=color:#a6e22e>ORIGIN</span>)
  .<span style=color:#a6e22e>layout</span>(<span style=color:#e6db74>&#34;hbox&#34;</span>)
  .<span style=color:#a6e22e>addLayoutOption</span>(<span style=color:#e6db74>&#34;hGap&#34;</span>, <span style=color:#ae81ff>15</span>)
  .<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>GLabel</span>.<span style=color:#a6e22e>builder</span>().<span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Expand&#34;</span>).<span style=color:#a6e22e>build</span>())
  .<span style=color:#a6e22e>add</span>(
    <span style=color:#a6e22e>GButton</span>.<span style=color:#a6e22e>builder</span>()
      .<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>BUTTON_EXPAND</span>)
      .<span style=color:#a6e22e>addCssClass</span>(<span style=color:#e6db74>&#34;button-expand&#34;</span>)
      .<span style=color:#a6e22e>enabled</span>(<span style=color:#66d9ef>true</span>)
      .<span style=color:#a6e22e>build</span>()
  )
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>First, we start with the definition of an expandable node element and view.</p><p>Define the node element supporting the expandable feature:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ExpandableNode</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>RectangularNode</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>Expandable</span> {
  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>override</span> <span style=color:#66d9ef>readonly</span> <span style=color:#a6e22e>DEFAULT_FEATURES</span> <span style=color:#f92672>=</span> [
    ...<span style=color:#a6e22e>SNode</span>.<span style=color:#a6e22e>DEFAULT_FEATURES</span>,
    <span style=color:#a6e22e>expandFeature</span>,
  ];
  <span style=color:#a6e22e>expanded</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>; <span style=color:#75715e>// initially the node is collapsed
</span><span style=color:#75715e></span>}
</code></pre></div><p>The expandable node view renders an additional text element if the node is expanded and also increases its height:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>@injectable</span>()
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ExpandableNodeView</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>ShapeView</span> {
  <span style=color:#a6e22e>render</span>(
    <span style=color:#a6e22e>node</span>: <span style=color:#66d9ef>Readonly</span>&lt;<span style=color:#f92672>ExpandableNode</span>&gt;,
    <span style=color:#a6e22e>context</span>: <span style=color:#66d9ef>RenderingContext</span>,
    <span style=color:#a6e22e>args?</span>: <span style=color:#66d9ef>IViewArgs</span>
  )<span style=color:#f92672>:</span> <span style=color:#a6e22e>VNode</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>undefined</span> {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>isVisible</span>(<span style=color:#a6e22e>node</span>, <span style=color:#a6e22e>context</span>)) {
      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>undefined</span>;
    }
    <span style=color:#66d9ef>return</span> (
      &lt;<span style=color:#f92672>g</span>&gt;
        &lt;<span style=color:#f92672>rect</span>
          <span style=color:#a6e22e>class</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>sprotty</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>node</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>node</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>SNode</span>}
          <span style=color:#a6e22e>class</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>mouseover</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>hoverFeedback</span>}
          <span style=color:#a6e22e>class</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>selected</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>selected</span>}
          <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>
          <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>
          <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span>{Math.<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>size</span>.<span style=color:#a6e22e>width</span>, <span style=color:#ae81ff>0</span>)}
          <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span>{Math.<span style=color:#a6e22e>max</span>(
            <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>expanded</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>size</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>20</span> : <span style=color:#66d9ef>node.size.height</span>,
            <span style=color:#ae81ff>0</span>
          )}
        &gt;&lt;/<span style=color:#f92672>rect</span>&gt;
        {<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>renderChildren</span>(<span style=color:#a6e22e>node</span>)}
        {<span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>expanded</span> <span style=color:#f92672>&amp;&amp;</span> (
          &lt;<span style=color:#f92672>text</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;50&#34;</span> <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;45&#34;</span>&gt;
            <span style=color:#a6e22e>More</span> <span style=color:#a6e22e>information</span>
          &lt;/<span style=color:#f92672>text</span>&gt;
        )}
      &lt;/<span style=color:#f92672>g</span>&gt;
    );
  }
}
</code></pre></div><p>Now we can configure an expandable node element and view for the type <code>"node:expandable"</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#e6db74>&#34;node:expandable&#34;</span>,
  <span style=color:#a6e22e>ExpandableNode</span>,
  <span style=color:#a6e22e>ExpandableNodeView</span>
);
</code></pre></div><p>The expand button element and its view can be configured with defaults as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>BUTTON_EXPAND</span>,
  <span style=color:#a6e22e>SButton</span>,
  <span style=color:#a6e22e>ExpandButtonView</span>
);
</code></pre></div><p>Finally, to handle the expansion toggle of the button, we register an <code>IActionHandler</code> for the respective <a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/features/expand/expand.ts>sprotty action <code>CollapseExpandAction</code></a>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>bind</span>(<span style=color:#a6e22e>ExpandHandler</span>).<span style=color:#a6e22e>toSelf</span>().<span style=color:#a6e22e>inSingletonScope</span>();
<span style=color:#a6e22e>configureActionHandler</span>(<span style=color:#a6e22e>context</span>, <span style=color:#a6e22e>CollapseExpandAction</span>.<span style=color:#a6e22e>KIND</span>, <span style=color:#a6e22e>ExpandHandler</span>);
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>@injectable</span>()
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ExpandHandler</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>IActionHandler</span> {
  <span style=color:#66d9ef>@inject</span>(<span style=color:#a6e22e>TYPES</span>.<span style=color:#a6e22e>SelectionService</span>)
  <span style=color:#66d9ef>protected</span> <span style=color:#a6e22e>selectionService</span>: <span style=color:#66d9ef>SelectionService</span>;

  <span style=color:#a6e22e>expansionState</span><span style=color:#f92672>:</span> { [<span style=color:#a6e22e>key</span>: <span style=color:#66d9ef>string</span>]<span style=color:#f92672>:</span> <span style=color:#66d9ef>boolean</span> } <span style=color:#f92672>=</span> {};

  <span style=color:#a6e22e>handle</span>(<span style=color:#a6e22e>action</span>: <span style=color:#66d9ef>Action</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#66d9ef>switch</span> (<span style=color:#a6e22e>action</span>.<span style=color:#a6e22e>kind</span>) {
      <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>CollapseExpandAction.KIND</span>:
        <span style=color:#66d9ef>this.handleCollapseExpandAction</span>(<span style=color:#a6e22e>action</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>CollapseExpandAction</span>);
        <span style=color:#66d9ef>break</span>;
    }
  }

  <span style=color:#66d9ef>get</span> <span style=color:#a6e22e>modelRoot</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>Readonly</span>&lt;<span style=color:#f92672>SModelRoot</span>&gt; {
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>selectionService</span>.<span style=color:#a6e22e>getModelRoot</span>();
  }

  <span style=color:#66d9ef>protected</span> <span style=color:#a6e22e>handleCollapseExpandAction</span>(<span style=color:#a6e22e>action</span>: <span style=color:#66d9ef>CollapseExpandAction</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#a6e22e>action</span>.<span style=color:#a6e22e>expandIds</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>id</span>) <span style=color:#f92672>=&gt;</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>expansionState</span>[<span style=color:#a6e22e>id</span>] <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>));
    <span style=color:#a6e22e>action</span>.<span style=color:#a6e22e>collapseIds</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>id</span>) <span style=color:#f92672>=&gt;</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>expansionState</span>[<span style=color:#a6e22e>id</span>] <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>));
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>applyExpansionState</span>();
  }

  <span style=color:#66d9ef>protected</span> <span style=color:#a6e22e>applyExpansionState</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// eslint-disable-next-line guard-for-in
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>id</span> <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>expansionState</span>) {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>element</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>modelRoot</span>.<span style=color:#a6e22e>index</span>.<span style=color:#a6e22e>getById</span>(<span style=color:#a6e22e>id</span>);
      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>element</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>element</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>SParentElement</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>element</span>.<span style=color:#a6e22e>children</span>) {
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>expanded</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>expansionState</span>[<span style=color:#a6e22e>id</span>];
        (<span style=color:#a6e22e>element</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>any</span>).<span style=color:#a6e22e>expanded</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>expanded</span>;
      }
    }
  }
}
</code></pre></div></details></br><h5 id=foreignobjectviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrclibgeneric-viewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/lib/generic-views.tsx>ForeignObjectView</a></h5><p>The <code>ForeignObjectView</code> renders elements that are foreign to SVG, such as HTML, MathML, etc. as specified in their <code>namespace</code> and <code>code</code> property.
Usually such an element is contained by a node view that enables features, such as resizing and moving of the element.</p><p align=center><img src=./foreign-object-view.png alt=foreign-object-view></p><p align=center><em>Multi line text box, using xhtml.</em></p><details><summary>Example implementation</summary><p>A common example use case for using a <code>ForeignObjectView</code> is to benefit from word wrapping support of HTML to show multiline text box.
Therefore we would create a custom text node (which extends the <code>ForeignObjectElement</code>) which is contained by a parent node (hence we will configure both as node types in the diagram configuration).</p><details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>  String multiLineComment <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n&#34;</span>
      <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;Nam at tellus quis lacus auctor congue vel sit amet lectus.\n&#34;</span>
      <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;Cras interdum lectus vel enim mollis maximus.&#34;</span><span style=color:#f92672>;</span>

  <span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;comment-node-parent&#34;</span><span style=color:#f92672>)</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>addCssClass</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;comment-node-parent&#34;</span><span style=color:#f92672>)</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>dimension</span><span style=color:#f92672>(</span>720<span style=color:#f92672>,</span> 125<span style=color:#f92672>))</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>point<span style=color:#f92672>.</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 0<span style=color:#f92672>)))</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;comment-node&#34;</span><span style=color:#f92672>)</span>
          <span style=color:#f92672>.</span><span style=color:#a6e22e>addArgument</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;text&#34;</span><span style=color:#f92672>,</span> multiLineComment<span style=color:#f92672>)</span>
          <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>())</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>multiLineComment</span> <span style=color:#f92672>=</span>
  <span style=color:#e6db74>&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n&#34;</span> <span style=color:#f92672>+</span>
  <span style=color:#e6db74>&#34;Nam at tellus quis lacus auctor congue vel sit amet lectus.\n&#34;</span> <span style=color:#f92672>+</span>
  <span style=color:#e6db74>&#34;Cras interdum lectus vel enim mollis maximus.&#34;</span>;

<span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#66d9ef>type</span>(<span style=color:#e6db74>&#34;comment-node-parent&#34;</span>)
  .<span style=color:#a6e22e>addCssClass</span>(<span style=color:#e6db74>&#34;comment-node-parent&#34;</span>)
  .<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>720</span>, <span style=color:#ae81ff>125</span>)
  .<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>point</span> <span style=color:#f92672>??</span> <span style=color:#a6e22e>Point</span>.<span style=color:#a6e22e>ORIGIN</span>)
  .<span style=color:#a6e22e>add</span>(
    <span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
      .<span style=color:#66d9ef>type</span>(<span style=color:#e6db74>&#34;comment-node&#34;</span>)
      .<span style=color:#a6e22e>addArg</span>(<span style=color:#e6db74>&#34;text&#34;</span>, <span style=color:#a6e22e>multiLineComment</span>)
      .<span style=color:#a6e22e>build</span>()
  )
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>We create the custom node element as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MultiLineTextNode</span>
  <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>ForeignObjectElement</span>
  <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>SArgumentable</span>, <span style=color:#a6e22e>EditableLabel</span>
{
  <span style=color:#66d9ef>readonly</span> <span style=color:#a6e22e>isMultiLine</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
  <span style=color:#66d9ef>readonly</span> <span style=color:#a6e22e>args</span>: <span style=color:#66d9ef>Args</span>;
  <span style=color:#a6e22e>text</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>;

  <span style=color:#a6e22e>override</span> <span style=color:#66d9ef>set</span> <span style=color:#a6e22e>bounds</span>(<span style=color:#a6e22e>bounds</span>: <span style=color:#66d9ef>Bounds</span>) {
    <span style=color:#75715e>/* ignore set bounds, always use the parent&#39;s bounds */</span>
  }

  <span style=color:#a6e22e>override</span> <span style=color:#66d9ef>get</span> <span style=color:#a6e22e>bounds</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>Bounds</span> {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isBoundsAware</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>parent</span>)) {
      <span style=color:#66d9ef>return</span> {
        <span style=color:#a6e22e>x</span>: <span style=color:#66d9ef>this.position.x</span>,
        <span style=color:#a6e22e>y</span>: <span style=color:#66d9ef>this.position.y</span>,
        <span style=color:#a6e22e>width</span>: <span style=color:#66d9ef>this.parent.bounds.width</span>,
        <span style=color:#a6e22e>height</span>: <span style=color:#66d9ef>this.parent.bounds.height</span>,
      };
    }
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Bounds</span>.<span style=color:#a6e22e>EMPTY</span>;
  }

  <span style=color:#75715e>// @ts-expect-error Arguments are set in the element
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>override</span> <span style=color:#66d9ef>get</span> <span style=color:#a6e22e>code</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> {
    <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>text</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;&#34;</span>) {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>textArg</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>args</span>[<span style=color:#e6db74>&#34;text&#34;</span>];
      <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>textArg</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;string&#34;</span>) {
        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>text</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>textArg</span>;
      }
    }
    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`&lt;pre&gt;</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>text</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/pre&gt;`</span>;
  }

  <span style=color:#a6e22e>override</span> <span style=color:#66d9ef>namespace</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://www.w3.org/1999/xhtml&#34;</span>;

  <span style=color:#66d9ef>get</span> <span style=color:#a6e22e>editControlDimension</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>Dimension</span> {
    <span style=color:#66d9ef>return</span> {
      <span style=color:#a6e22e>width</span>: <span style=color:#66d9ef>this.bounds.width</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>4</span>,
      <span style=color:#a6e22e>height</span>: <span style=color:#66d9ef>this.bounds.height</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>4</span>,
    };
  }
}
</code></pre></div><p>To register this node type, we configure it with <code>ForeignObjectView</code>, disable <code>moveFeature</code> and <code>selectFeature</code> (as this handled by its parent node).
To be able to edit this multi-line comment node we need to enable the <code>editLabelFeature</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#e6db74>&#34;comment-node-parent&#34;</span>,
  <span style=color:#a6e22e>SNode</span>,
  <span style=color:#a6e22e>RoundedCornerNodeView</span>
);
<span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#e6db74>&#34;comment-node&#34;</span>,
  <span style=color:#a6e22e>MultiLineTextNode</span>,
  <span style=color:#a6e22e>ForeignObjectView</span>,
  {
    <span style=color:#a6e22e>disable</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>moveFeature</span>, <span style=color:#a6e22e>selectFeature</span>],
    <span style=color:#a6e22e>enable</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>editLabelFeature</span>],
  }
);
</code></pre></div><p>To style the parent node, we add this simple CSS :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css>.<span style=color:#a6e22e>comment-node-parent</span> .<span style=color:#a6e22e>sprotty-node</span> {
  fill: <span style=color:#66d9ef>lightgray</span>;
}
</code></pre></div><p>The resulting diagram element is shown above and the corresponding HTML element code looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>g</span> <span style=color:#a6e22e>transform</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;scale(...) translate(...)&#34;</span>&gt;
  &lt;<span style=color:#f92672>g</span>
    <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;workflow-diagram_0_...&#34;</span>
    <span style=color:#a6e22e>transform</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;translate(...)&#34;</span>
    <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;comment-node-parent&#34;</span>
  &gt;
    &lt;<span style=color:#f92672>rect</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;720&#34;</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;125&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;sprotty-node&#34;</span>&gt;&lt;/<span style=color:#f92672>rect</span>&gt;
    &lt;<span style=color:#f92672>g</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;comment-node&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;workflow-diagram_0_...&#34;</span>&gt;
      &lt;<span style=color:#f92672>foreignObject</span>
        <span style=color:#a6e22e>requiredFeatures</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://www.w3.org/TR/SVG11/feature#Extensibility&#34;</span>
        <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;125&#34;</span>
        <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;720&#34;</span>
        <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>
        <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>
      &gt;
        &lt;<span style=color:#f92672>pre</span>&gt;
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Nam at tellus quis lacus auctor congue vel sit amet lectus.
        Cras interdum lectus vel enim mollis maximus.
        &lt;/<span style=color:#f92672>pre</span>&gt;
      &lt;/<span style=color:#f92672>foreignObject</span>&gt;
    &lt;/<span style=color:#f92672>g</span>&gt;
  &lt;/<span style=color:#f92672>g</span>&gt;
&lt;/<span style=color:#f92672>g</span>&gt;
</code></pre></div></details></br><h5 id=prerenderedviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrclibgeneric-viewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/lib/generic-views.tsx>PreRenderedView</a></h5><p>The <code>PreRenderedView</code> visualizes a previously rendered piece of svg code as a separate SVG element.
This enables putting SVG code directly in the graphical model, which may be useful for including complex images for certain use cases.
However, usually it is recommended to create a dedicated element type and register a dedicated view, which produces custom SVG, as this yields more flexibility to take bounds, etc., into account.</p><p>The implementation here is rather similar to the <code>ForeignObjectElement</code>, is a sub-class of <code>ShapedPreRenderedElement</code>. Please see ForeignObjectElement&rsquo;s example implementation.</p><h5 id=rectangularnodeviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrclibsvg-viewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/lib/svg-views.tsx>RectangularNodeView</a></h5><p>A <code>RectangularNodeView</code> creates a rectangular shape based on the shape element&rsquo;s size.</p><p align=center><img src=./rectangular-node-view.png alt=rectangular-node-view></p><p align=center><em>Rectangular nodes with dimensions of `(25,25)` (1), `(35,15)` (2) and `(5,40)`.</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>()</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>(</span>DefaultTypes<span style=color:#f92672>.</span><span style=color:#a6e22e>NODE_RECTANGLE</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>point<span style=color:#f92672>.</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 0<span style=color:#f92672>)))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>dimension</span><span style=color:#f92672>(</span>25<span style=color:#f92672>,</span> 25<span style=color:#f92672>))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE_RECTANGLE</span>)
  .<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>point</span> <span style=color:#f92672>??</span> <span style=color:#a6e22e>Point</span>.<span style=color:#a6e22e>ORIGIN</span>)
  .<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>25</span>)
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>The rectangular node element and its view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE_RECTANGLE</span>,
  <span style=color:#a6e22e>RectangularNode</span>,
  <span style=color:#a6e22e>RectangularNodeView</span>
);
</code></pre></div></details></br><h5 id=sgraphviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrcgraphviewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/graph/views.tsx>SGraphView</a></h5><p>The <code>SGraphView</code> renders the base SVG canvas for an SModel and triggers the rendering of its children.</p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GGraphBuilder<span style=color:#f92672>().</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GGraph</span>.<span style=color:#a6e22e>builder</span>().<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>The graph element and its view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(<span style=color:#a6e22e>context</span>, <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>GRAPH</span>, <span style=color:#a6e22e>GLSPGraph</span>, <span style=color:#a6e22e>SGraphView</span>);
</code></pre></div></details></br><h5 id=slabelviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrcgraphviewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/graph/views.tsx>SLabelView</a></h5><p>The <code>SLabelView</code> renders a text element that contains the given label text.</p><p align=center><img src=./label-view.png alt=label-view></p><p align=center><em>A label view with the text "Label 1" added to a rectangular node.</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>()</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>(</span>DefaultTypes<span style=color:#f92672>.</span><span style=color:#a6e22e>NODE_RECTANGLE</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>point<span style=color:#f92672>.</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 0<span style=color:#f92672>)))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>dimension</span><span style=color:#f92672>(</span>50<span style=color:#f92672>,</span> 35<span style=color:#f92672>))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> GLabelBuilder<span style=color:#f92672>().</span><span style=color:#a6e22e>text</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Label 1&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>build</span><span style=color:#f92672>())</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE_RECTANGLE</span>)
  .<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>point</span> <span style=color:#f92672>??</span> <span style=color:#a6e22e>Point</span>.<span style=color:#a6e22e>ORIGIN</span>)
  .<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>35</span>)
  .<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>GLabel</span>.<span style=color:#a6e22e>builder</span>().<span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Label 1&#34;</span>).<span style=color:#a6e22e>build</span>())
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>The label element and its view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(<span style=color:#a6e22e>context</span>, <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>LABEL</span>, <span style=color:#a6e22e>SLabel</span>, <span style=color:#a6e22e>SLabelView</span>);
</code></pre></div></details></br><h5 id=sroutinghandleviewhttpsgithubcomeclipsesprottyblobmasterpackagessprottysrcgraphviewstsx><a href=https://github.com/eclipse/sprotty/blob/master/packages/sprotty/src/graph/views.tsx>SRoutingHandleView</a></h5><p>A <code>SRoutingHandleView</code> renders a circle shaped element that serves as routing point for routable elements (e.g. Edges).
Its position is computed either by a registered <code>EdgeRouterRegistry</code> or the routing arguments of the element.</p><p align=center><img src=./routing-handle-view.png alt=routing-handle-vie></p><p align=center><em>A manually added routing point (dark gray), at position `(0,100)`.</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GEdgeBuilder<span style=color:#f92672>()</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>source</span><span style=color:#f92672>(</span>source<span style=color:#f92672>)</span> <span style=color:#75715e>// source node element
</span><span style=color:#75715e></span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>target</span><span style=color:#f92672>(</span>target<span style=color:#f92672>)</span> <span style=color:#75715e>// target node element
</span><span style=color:#75715e></span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>addRoutingPoint</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 100<span style=color:#f92672>))</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GEdge</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#a6e22e>source</span>(<span style=color:#a6e22e>source</span>) <span style=color:#75715e>// source node element
</span><span style=color:#75715e></span>  .<span style=color:#a6e22e>target</span>(<span style=color:#a6e22e>target</span>) <span style=color:#75715e>// target node element
</span><span style=color:#75715e></span>  .<span style=color:#a6e22e>addRoutingPoint</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>)
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>The routing handle element and its view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>ROUTING_POINT</span>,
  <span style=color:#a6e22e>SRoutingHandle</span>,
  <span style=color:#a6e22e>SRoutingHandleView</span>
);
</code></pre></div></details></br><h4 id=default-glsp-views>Default GLSP Views</h4><p>The following views are provided by the <a href=https://github.com/eclipse-glsp/glsp-client>GLSP client</a> framework.</p><h5 id=gedgeviewhttpsgithubcomeclipse-glspglsp-clientblobmasterpackagesclientsrcviewsglsp-edge-viewtsx><a href=https://github.com/eclipse-glsp/glsp-client/blob/master/packages/client/src/views/glsp-edge-view.tsx>GEdgeView</a></h5><p>A <code>GEdgeView</code> renders a line element which is routed by the <code>EdgeRouterRegistry</code>.
The view also triggers the rendering of additional elements (such as mouse handles) and edge children (such as edge labels or routing points).</p><p align=center><img src=./gedge-view.png alt=gedge-view></p><p align=center><em>A GEdge connection two nodes.</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GEdgeBuilder<span style=color:#f92672>()</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>source</span><span style=color:#f92672>(</span>source<span style=color:#f92672>)</span> <span style=color:#75715e>// source node element
</span><span style=color:#75715e></span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>target</span><span style=color:#f92672>(</span>target<span style=color:#f92672>)</span> <span style=color:#75715e>// target node element
</span><span style=color:#75715e></span>      <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GEdge</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#a6e22e>source</span>(<span style=color:#a6e22e>source</span>) <span style=color:#75715e>// source node element
</span><span style=color:#75715e></span>  .<span style=color:#a6e22e>target</span>(<span style=color:#a6e22e>target</span>) <span style=color:#75715e>// target node element
</span><span style=color:#75715e></span>  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>The edge element and its view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(<span style=color:#a6e22e>context</span>, <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>EDGE</span>, <span style=color:#a6e22e>SEdge</span>, <span style=color:#a6e22e>GEdgeView</span>);
</code></pre></div></details></br><h5 id=gissuemarkerviewhttpsgithubcomeclipse-glspglsp-clientblobmasterpackagesclientsrcviewsissue-marker-viewtsx><a href=https://github.com/eclipse-glsp/glsp-client/blob/master/packages/client/src/views/issue-marker-view.tsx>GIssueMarkerView</a></h5><p>A <code>GIssueMarkerView</code> renders an issue marker on top of shapes. This is used to show validation results on elements (see Model Validation).
These issue markers are elements in the shape of an information, warning or error icon based on the severity of the issue.</p><p align=center><img src=./gissue-view.png alt=gissue-view></p><p align=center><em>A GIssue info marker placed at top left corner of a rectangular node.</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>()</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>(</span>DefaultTypes<span style=color:#f92672>.</span><span style=color:#a6e22e>NODE_RECTANGLE</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>point<span style=color:#f92672>.</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 0<span style=color:#f92672>)))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>dimension</span><span style=color:#f92672>(</span>50<span style=color:#f92672>,</span> 35<span style=color:#f92672>))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> GIssueMarkerBuilder<span style=color:#f92672>()</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>addIssue</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> GIssueBuilder<span style=color:#f92672>()</span>
          <span style=color:#f92672>.</span><span style=color:#a6e22e>severity</span><span style=color:#f92672>(</span>GSeverity<span style=color:#f92672>.</span><span style=color:#a6e22e>INFO</span><span style=color:#f92672>)</span>
          <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>())</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(-</span>8<span style=color:#f92672>,</span> <span style=color:#f92672>-</span>8<span style=color:#f92672>))</span>
      <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>());</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE_RECTANGLE</span>)
  .<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>point</span> <span style=color:#f92672>??</span> <span style=color:#a6e22e>Point</span>.<span style=color:#a6e22e>ORIGIN</span>)
  .<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>35</span>)
  .<span style=color:#a6e22e>add</span>(
    <span style=color:#a6e22e>GIssueMarker</span>.<span style=color:#a6e22e>builder</span>()
      .<span style=color:#a6e22e>addIssue</span>({ <span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Information message&#34;</span>, <span style=color:#a6e22e>severity</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;info&#34;</span> })
      .<span style=color:#a6e22e>position</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>)
      .<span style=color:#a6e22e>build</span>()
  )
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>The issue marker element and its view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(
  <span style=color:#a6e22e>context</span>,
  <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>ISSUE_MARKER</span>,
  <span style=color:#a6e22e>SIssueMarker</span>,
  <span style=color:#a6e22e>GIssueMarkerView</span>
);
</code></pre></div></details></br><h5 id=roundedcornernodeviewhttpsgithubcomeclipse-glspglsp-clientblobmasterpackagesclientsrcviewsrounded-corner-viewtsx><a href=https://github.com/eclipse-glsp/glsp-client/blob/master/packages/client/src/views/rounded-corner-view.tsx>RoundedCornerNodeView</a></h5><p>A <code>RoundedCornerNodeView</code> creates a rectangular shape based shape&rsquo;s size and computes and renders the corners in a rounded way, based on the corner radius argument. By default, the rounded corner radius defaults to <code>0</code>.</p><p align=center><img src=./rounded-corner-node-view.png alt=rounded-corner-node-view></p><p align=center><em>A rectangular node with corner radius `0` (1), `3` (2) and `15` (3).</em></p><details><summary>Example implementation</summary>
<details open><summary>Java GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>new</span> GNodeBuilder<span style=color:#f92672>()</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>type</span><span style=color:#f92672>(</span>DefaultTypes<span style=color:#f92672>.</span><span style=color:#a6e22e>NODE</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span>point<span style=color:#f92672>.</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>point</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 0<span style=color:#f92672>)))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>(</span>GraphUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>dimension</span><span style=color:#f92672>(</span>50<span style=color:#f92672>,</span> 35<span style=color:#f92672>))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>addArguments</span><span style=color:#f92672>(</span>GArguments<span style=color:#f92672>.</span><span style=color:#a6e22e>cornerRadius</span><span style=color:#f92672>(</span>3<span style=color:#f92672>))</span>
    <span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
</code></pre></div></details><details><summary>Node GLSP Server</summary><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>GNode</span>.<span style=color:#a6e22e>builder</span>()
  .<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE</span>)
  .<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>point</span> <span style=color:#f92672>??</span> <span style=color:#a6e22e>Point</span>.<span style=color:#a6e22e>ORIGIN</span>)
  .<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>35</span>)
  .<span style=color:#a6e22e>addArgs</span>(<span style=color:#a6e22e>ArgsUtil</span>.<span style=color:#a6e22e>cornerRadius</span>(<span style=color:#ae81ff>3</span>))
  .<span style=color:#a6e22e>build</span>();
</code></pre></div></details></br><p>A node element and its rounded corner node view are configured as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#a6e22e>configureModelElement</span>(<span style=color:#a6e22e>context</span>, <span style=color:#a6e22e>DefaultTypes</span>.<span style=color:#a6e22e>NODE</span>, <span style=color:#a6e22e>SNode</span>, <span style=color:#a6e22e>RoundedCornerNodeView</span>);
</code></pre></div></details></br><h5 id=structurecompartmentviewhttpsgithubcomeclipse-glspglsp-clientblobmasterpackagesclientsrcviewscompartmentstsx><a href=https://github.com/eclipse-glsp/glsp-client/blob/master/packages/client/src/views/compartments.tsx>StructureCompartmentView</a></h5><p>The <code>StructureCompartmentView</code> allows to contain children if using the <code>freeform</code> Layout. For more details please see the section about <a href=/glsp/documentation/clientlayouting/>freeform</a> Layout.</p></br><h3 id=styling>Styling</h3><p>The style of the rendered SVG elements is controlled with plain CSS.
CSS classes can be declared directly in the corresponding view.
The <code>SLabelView</code>, for instance, adds the CSS class ‘sprotty-label’ to the generated SVG text element.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>vnode</span> <span style=color:#f92672>=</span> &lt;<span style=color:#f92672>text</span> <span style=color:#a6e22e>class</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>sprotty</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span>{<span style=color:#66d9ef>true</span>}&gt;{<span style=color:#a6e22e>label</span>.<span style=color:#a6e22e>text</span>}&lt;/<span style=color:#f92672>text</span>&gt;;
</code></pre></div><p>Graphical model elements also have a ‘cssClasses’ property which contains a list of CSS classes to be applied, in addition to the classes defined in the view.
For instance, the server could send the following graphical model element:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;myCustomLabel&#34;</span>,
  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;label:custom&#34;</span>,
  <span style=color:#f92672>&#34;cssClasses&#34;</span>: [<span style=color:#e6db74>&#34;my-custom-class&#34;</span>]
}
</code></pre></div><p>Keeping our previous model configuration in mind, the corresponding SVG element now has two css classes applied: ‘sprotty-label’ and ‘my-custom-class’.</p><p>Based on those CSS classes, we can define CSS rules:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css>.<span style=color:#a6e22e>sprotty-label</span> {
  fill: <span style=color:#66d9ef>black</span>;
  <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
}

.<span style=color:#a6e22e>my-custom-class</span>.<span style=color:#a6e22e>sprotty-label</span> {
  fill: <span style=color:#66d9ef>red</span>;
}
</code></pre></div><p>This simple style sheet declares that elements with the class ‘sprotty-label’’ should be rendered in black.
If “my-custom-class’’ is applied as well they are rendered in red.
To load this stylesheet it has to be imported somewhere in the project.
Typically this is done in the &ldquo;di.config.ts” file as it’s the entry point of the diagram DI container.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;../css/diagram.css&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>customDiagramModule</span><span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ContainerModule</span>((<span style=color:#a6e22e>bind</span>,<span style=color:#a6e22e>unbind</span>, <span style=color:#a6e22e>isBound</span>,<span style=color:#a6e22e>rebind</span>)<span style=color:#f92672>=&gt;</span>{
<span style=color:#960050;background-color:#1e0010>…</span>
  });
</code></pre></div><hr><p>➡️ Now it&rsquo;s best to learn more about <a href=https://www.eclipse.org/glsp/documentation/clientlayouting/>client-side layouting</a> next!</p></div></article></div></div></div></section><section id=footer class=fragment><div class="container-fluid bg-light"><div class="container py-5"><div class=row><div class="col-md m-2 text-body"><h4></h4><a href=#><img src=/glsp/images/logo.png class="img-fluid w-50" alt=GLSP></a><div class="row justify-content-left ml-0"><span class="fa-stack fa-2x mt-3 mr-1" title=twitter><a href=https://twitter.com/eclipseglsp class=ignore-color-change><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-twitter fa-stack-1x fa-fw text-light"></i><span class=sr-only>twitter</span></a></span>
<span class="fa-stack fa-2x mt-3 mr-1" title=github><a href=https://github.com/eclipse-glsp/glsp class=ignore-color-change><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-github fa-stack-1x fa-fw text-light"></i><span class=sr-only>github</span></a></span>
<span class="fa-stack fa-2x mt-3 mr-1" title=github-discussions><a href=https://github.com/eclipse-glsp/glsp/discussions class=ignore-color-change><i class="fas fa-circle fa-stack-2x"></i><i class="far fa-comments fa-stack-1x fa-fw text-light"></i><span class=sr-only>github-discussions</span></a></span></div></div><div class="col-md m-2 text-body"><h4>Related Projects</h4><ul class="nav flex-column"><li class=nav-item><a class="nav-link p-0 display-5" href=https://projects.eclipse.org/projects/ecd.sprotty>Eclipse Sprotty</a></li><li class=nav-item><a class="nav-link p-0 display-5" href=https://projects.eclipse.org/projects/ecd.emfcloud>Eclipse EMF.cloud</a></li><li class=nav-item><a class="nav-link p-0 display-5" href=https://eclipsesource.com/technology/eclipse-theia>Eclipse Theia IDE</a></li><li class=nav-item><a class="nav-link p-0 display-5" href=https://eclipse.org/che>Eclipse Che</a></li></ul></div><div class="col-md m-2 text-body"><div><h4 id=eclipse-glsp>Eclipse GLSP</h4><p>The Eclipse Graphical Language Server Platform is a project hosted at the <a href=https://www.eclipse.org>Eclipse Foundation</a>, led by <a href=https://projects.eclipse.org/projects/ecd.glsp/who>Philip Langer & Tobias Ortmayr</a>, organized within the <a href=https://projects.eclipse.org/projects/ecd>Eclipse Cloud Development</a> project.</p><p>Gefördert durch: <img src=/images/BMBF_Logo.svg alt="BMBF Logo"></p></div></div></div></div></div></section><footer class="overlay fragment container-fluid bg-secondary" id=copyright><div class=container><div class="row py-3"><div class=col-md><div class="row mx-0 my-2 justify-content-center text-center text-lg-none text-black-50"><div class="row mx-0 mr-lg-auto justify-content-center"><div class="col-auto px-1 copyright-legal">© Copyright&nbsp;2023</div><div class="col-auto px-0 copyright-by">by Eclipse Foundation</div></div></div></div><div class=col-md><div class="row mx-0 my-2 justify-content-center"><ul class="nav ml-lg-auto"><li class=nav-item><a class="nav-link py-0" href=https://projects.eclipse.org/projects/ecd.glsp>About</a></li><li class=nav-item><a class="nav-link py-0" href=https://www.eclipse.org/legal/privacy.php>Privacy Policy</a></li><li class=nav-item><a class="nav-link py-0" href=https://www.eclipse.org/legal/termsofuse.php>Terms of Use</a></li><li class=nav-item><a class="nav-link py-0" href=https://www.eclipse.org/legal/copyright.php>Copyright</a></li><li class=nav-item><a class="nav-link py-0" href=https://www.eclipse.org/legal/>Legal</a></li></ul></div></div></div></div></footer><div id=react></div><script async defer src=/glsp/scripts/syna-main.min.065c23d84ca56793a8ee2be9d091a50028dc3505b5e4962af6444d641ed77ff5.js></script><script async defer src=/glsp/scripts/syna-search.min.be96fcdb5b1bfc9ff80f633ea20d203a74487d142ebbe9095a9478b2479d4203.js></script><script async defer src=/glsp/scripts/syna-content.min.3f176160ef27cbeeb1c26d718677d4e66e40b70421d8745f6d667dcad23a6850.js></script><script async defer src=/glsp/scripts/syna-collapse.min.e53f62e26af14c1839865c3eb2f19520509399d957f5520e410b1f11ffee93c1.js></script></body></html>
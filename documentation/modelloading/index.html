<!DOCTYPE html>
<html lang="en-us">
  

<head>
  <meta name="theme" content="Syna">
  <meta name="theme-version" content="v0.17.2">
  <meta name="theme-url" content="https://syna.okkur.org">
  <meta name="theme-description" content="Highly customizable open source theme for Hugo based static websites">
  <meta name="theme-author" content="Okkur Labs">
  <meta name="theme-author-url" content="https://about.okkur.org">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="google" content="notranslate" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="description" content="In order to render a diagram, the GLSP client first requests the graphical model from the server by sending a RequestModelAction. With such a request model action, the client can provide a set of custom arguments in the client options, such as a URI or an ID of a diagram, to specify the diagram requested by the user. Based on these arguments, the GLSP server determines which source model it needs to load, transform into a graphical model and send back to the client.">
  <meta property="og:title" content="Source Model &amp; State" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.eclipse.org/glsp/documentation/modelloading/" />


  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Source Model &amp; State &amp;middot; Eclipse Graphical Language Server Platform" />
  <meta name="twitter:description" content="In order to render a diagram, the GLSP client first requests the graphical model from the server by sending a RequestModelAction. With such a request model action, the client can provide a set of custom arguments in the client options, such as a URI or an ID of a diagram, to specify the diagram requested by the user. Based on these arguments, the GLSP server determines which source model it needs to load, transform into a graphical model and send back to the client.">
  <meta name="twitter:url" content="https://www.eclipse.org/glsp/documentation/modelloading/" />
        <meta property="og:image" content="">
        <meta name="twitter:image" content="">
  <meta name="author" content="Eclipse Foundation">

  <meta name="generator" content="Hugo 0.78.1" />

  <title>Source Model & State &middot; Eclipse Graphical Language Server Platform</title>

  <!-- Theme Styles -->
  <style>
.mx-0 {
  margin-left: 0 !important;
  margin-right: 0 !important; }

 
@-ms-viewport {
  width: device-width; }

html {
  box-sizing: border-box;
  -ms-overflow-style: scrollbar; }

*,
*::before,
*::after {
  box-sizing: inherit; }

.container {
  width: 100%;
  padding-right: 15px;
  padding-left: 15px;
  margin-right: auto;
  margin-left: auto;
  max-width: 540px;
  max-width: 720px;
  max-width: 960px;
  max-width: 1140px; }

.container-fluid {
  width: 100%;
  padding-right: 15px;
  padding-left: 15px;
  margin-right: auto;
  margin-left: auto; }

.row {
  display: flex;
  flex-wrap: wrap;
  margin-right: -15px;
  margin-left: -15px; }

.no-gutters {
  margin-right: 0;
  margin-left: 0; }
  .no-gutters > .col,
  .no-gutters > [class*="col-"] {
    padding-right: 0;
    padding-left: 0; }

.col-1, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-10, .col-11, .col-12, .col,
.col-auto {
  position: relative;
  width: 100%;
  min-height: 1px;
  padding-right: 15px;
  padding-left: 15px; }

.col {
  flex-basis: 0;
  flex-grow: 1;
  max-width: 100%; }

.col-auto {
  flex: 0 0 auto;
  width: auto;
  max-width: none; }

.col-1 {
  flex: 0 0 8.33333%;
  max-width: 8.33333%; }

.col-2 {
  flex: 0 0 16.66667%;
  max-width: 16.66667%; }

.col-3 {
  flex: 0 0 25%;
  max-width: 25%; }

.col-4 {
  flex: 0 0 33.33333%;
  max-width: 33.33333%; }

.col-5 {
  flex: 0 0 41.66667%;
  max-width: 41.66667%; }

.col-6 {
  flex: 0 0 50%;
  max-width: 50%; }

.col-7 {
  flex: 0 0 58.33333%;
  max-width: 58.33333%; }

.col-8 {
  flex: 0 0 66.66667%;
  max-width: 66.66667%; }

.col-9 {
  flex: 0 0 75%;
  max-width: 75%; }

.col-10 {
  flex: 0 0 83.33333%;
  max-width: 83.33333%; }

.col-11 {
  flex: 0 0 91.66667%;
  max-width: 91.66667%; }

.col-12 {
  flex: 0 0 100%;
  max-width: 100%; }

.order-first {
  order: -1; }

.order-last {
  order: 13; }

.order-0 {
  order: 0; }

.order-1 {
  order: 1; }

.order-2 {
  order: 2; }

.order-3 {
  order: 3; }

.order-4 {
  order: 4; }

.order-5 {
  order: 5; }

.order-6 {
  order: 6; }

.order-7 {
  order: 7; }

.order-8 {
  order: 8; }

.order-9 {
  order: 9; }

.order-10 {
  order: 10; }

.order-11 {
  order: 11; }

.order-12 {
  order: 12; }

.offset-1 {
  margin-left: 8.33333%; }

.offset-2 {
  margin-left: 16.66667%; }

.offset-3 {
  margin-left: 25%; }

.offset-4 {
  margin-left: 33.33333%; }

.offset-5 {
  margin-left: 41.66667%; }

.offset-6 {
  margin-left: 50%; }

.offset-7 {
  margin-left: 58.33333%; }

.offset-8 {
  margin-left: 66.66667%; }

.offset-9 {
  margin-left: 75%; }

.offset-10 {
  margin-left: 83.33333%; }

.offset-11 {
  margin-left: 91.66667%; }

.d-none {
  display: none !important; }

.d-inline {
  display: inline !important; }

.d-inline-block {
  display: inline-block !important; }

.d-block {
  display: block !important; }

.d-table {
  display: table !important; }

.d-table-row {
  display: table-row !important; }

.d-table-cell {
  display: table-cell !important; }

.d-flex {
  display: flex !important; }

.d-inline-flex {
  display: inline-flex !important; }

@media print {
  .d-print-none {
    display: none !important; }
  .d-print-inline {
    display: inline !important; }
  .d-print-inline-block {
    display: inline-block !important; }
  .d-print-block {
    display: block !important; }
  .d-print-table {
    display: table !important; }
  .d-print-table-row {
    display: table-row !important; }
  .d-print-table-cell {
    display: table-cell !important; }
  .d-print-flex {
    display: flex !important; }
  .d-print-inline-flex {
    display: inline-flex !important; } }

.flex-row {
  flex-direction: row !important; }

.flex-column {
  flex-direction: column !important; }

.flex-row-reverse {
  flex-direction: row-reverse !important; }

.flex-column-reverse {
  flex-direction: column-reverse !important; }

.flex-wrap {
  flex-wrap: wrap !important; }

.flex-nowrap {
  flex-wrap: nowrap !important; }

.flex-wrap-reverse {
  flex-wrap: wrap-reverse !important; }

.flex-fill {
  flex: 1 1 auto !important; }

.flex-grow-0 {
  flex-grow: 0 !important; }

.flex-grow-1 {
  flex-grow: 1 !important; }

.flex-shrink-0 {
  flex-shrink: 0 !important; }

.flex-shrink-1 {
  flex-shrink: 1 !important; }

.justify-content-start {
  justify-content: flex-start !important; }

.justify-content-end {
  justify-content: flex-end !important; }

.justify-content-center {
  justify-content: center !important; }

.justify-content-between {
  justify-content: space-between !important; }

.justify-content-around {
  justify-content: space-around !important; }

.align-items-start {
  align-items: flex-start !important; }

.align-items-end {
  align-items: flex-end !important; }

.align-items-center {
  align-items: center !important; }

.align-items-baseline {
  align-items: baseline !important; }

.align-items-stretch {
  align-items: stretch !important; }

.align-content-start {
  align-content: flex-start !important; }

.align-content-end {
  align-content: flex-end !important; }

.align-content-center {
  align-content: center !important; }

.align-content-between {
  align-content: space-between !important; }

.align-content-around {
  align-content: space-around !important; }

.align-content-stretch {
  align-content: stretch !important; }

.align-self-auto {
  align-self: auto !important; }

.align-self-start {
  align-self: flex-start !important; }

.align-self-end {
  align-self: flex-end !important; }

.align-self-center {
  align-self: center !important; }

.align-self-baseline {
  align-self: baseline !important; }

.align-self-stretch {
  align-self: stretch !important; }
</style>

  <link href="/glsp/style.min.78f4fc84313e06df604c59876a8cbdf46ea090960dd0e4a50185b0c4beb6e708.css" rel="stylesheet">
      <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
      <link rel="icon" sizes="16x16 32x32" type="image/x-icon" href="/glsp/favicon.ico">
      <link rel="icon" href="/glsp/favicon.png">
      <link rel="apple-touch-icon-precomposed" href="/glsp/favicon.png">

  <script>
    window.syna = {
      
    };
  </script>
  <script src="/glsp/scripts/syna-head.min.0757f18970a0a32d5acac5a2accc5fe82f787821866c545d9ed17ca765f291a3.js"></script></head>
<body class="bg-secondary">
    
<script
  defer
  src="https://static.cloudflareinsights.com/beacon.min.js"
  data-cf-beacon='{"token": "06f5cd775d484737a074b8122aae40ef"}'
></script>

<!-- Navigation --><nav class="overlay fragment navbar navbar-expand-lg py-2 scroll-spy bg-light navbar-light" id="nav" role="navigation">
  <div class="container">
      <a class="navbar-brand py-0" href="/glsp/#">
        <img src="/glsp/images/logo.png" height="35" class="d-inline-block align-top" alt="GLSP">
      </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse justify-content-end collapse show" id="navbarCollapse">
      <ul class="navbar-nav"><li class="nav-item">
              <a href="/glsp/"
                  class="nav-link">
                Home
              </a>
            </li><li class="nav-item">
              <a href="/glsp/support"
                  class="nav-link">
                Support
              </a>
            </li><li class="nav-item">
              <a href="/glsp/documentation"
                  class="nav-link">
                Documentation
              </a>
            </li><li class="nav-item">
              <a href="/glsp/examples"
                  class="nav-link">
                Examples
              </a>
            </li><li class="nav-item">
              <a href="/glsp/gallery"
                  class="nav-link">
                Gallery
              </a>
            </li><li class="nav-item">
              <a href="/glsp/contact"
                  class="nav-link">
                Contact
              </a>
            </li><li class="nav-item">
              <a href="https://github.com/eclipse-glsp/glsp"
                  class="nav-link">
                GitHub
              </a>
            </li>
      </ul>
    </div>
  </div>
</nav>

<div class="scroll-to-top bg-primary has-font-icon"
  title="Back to top"
  ><i class="fas fa-angle-up"></i><span class="sr-only">Back to top</span>
</div>
<!-- Content -->
<section id="content" class="fragment content-fragment">
    <div class="container-fluid bg-light overlay">
    <div class="container py-5 overlay">
<div class="row"><div class="content-sidebar col-md-3 pb-4 px-md-0 order-0">
          <div class="sticky-top pt-3"><div class="content-sidebar-body col-12 px-0 text-left text-body">
<!-- List -->
<section id="sidebar" class="fragment ">
    <div class="container p-0 ">


  <div class="row mx-0 text-body"><article id="list-page-architecture"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-architecture .collapse" data-add-collapse="#list-page-architecture .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0">
                        <a href="https://www.eclipse.org/glsp/documentation/architecture/">Overview &amp; Architecture</a>
                      </h5>
                  </div>
                </div><div class="collapse">
<!--  -->
<section id="toc" class="fragment ">
    <div class="container p-0 ">
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="https://www.eclipse.org/glsp/documentation/architecture/#overview">Overview</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/architecture/#action-protocol">Action Protocol</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/architecture/#action-dispatching--handling">Action Dispatching &amp; Handling</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/architecture/#dependency-injection">Dependency Injection</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/architecture/#graphical-model">Graphical Model</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/architecture/#platform-integrations">Platform Integrations</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>
</div>
        </article><article id="list-page-modelloading"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-modelloading .collapse" data-add-collapse="#list-page-modelloading .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0 active-page">
                        <a href="https://www.eclipse.org/glsp/documentation/modelloading/">Source Model &amp; State</a>
                      </h5>
                  </div>
                </div><div class="collapse show"></div>
        </article><article id="list-page-modelgeneration"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-modelgeneration .collapse" data-add-collapse="#list-page-modelgeneration .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0">
                        <a href="https://www.eclipse.org/glsp/documentation/modelgeneration/">Graphical Model Generation</a>
                      </h5>
                  </div>
                </div><div class="collapse"></div>
        </article><article id="list-page-rendering"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-rendering .collapse" data-add-collapse="#list-page-rendering .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0">
                        <a href="https://www.eclipse.org/glsp/documentation/rendering/">Model Rendering &amp; Styling</a>
                      </h5>
                  </div>
                </div><div class="collapse">
<!--  -->
<section id="toc" class="fragment ">
    <div class="container p-0 ">
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="https://www.eclipse.org/glsp/documentation/rendering/#model-rendering">Model Rendering</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/rendering/#styling">Styling</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>
</div>
        </article><article id="list-page-clientlayouting"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-clientlayouting .collapse" data-add-collapse="#list-page-clientlayouting .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0">
                        <a href="https://www.eclipse.org/glsp/documentation/clientlayouting/">Client-side layouting</a>
                      </h5>
                  </div>
                </div><div class="collapse">
<!--  -->
<section id="toc" class="fragment ">
    <div class="container p-0 ">
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="https://www.eclipse.org/glsp/documentation/clientlayouting/#layout-container">Layout Container</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/clientlayouting/#edge-layout">Edge Layout</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>
</div>
        </article><article id="list-page-modelextension"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-modelextension .collapse" data-add-collapse="#list-page-modelextension .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0">
                        <a href="https://www.eclipse.org/glsp/documentation/modelextension/">GModel Extensions</a>
                      </h5>
                  </div>
                </div><div class="collapse">
<!--  -->
<section id="toc" class="fragment ">
    <div class="container p-0 ">
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="https://www.eclipse.org/glsp/documentation/modelextension/#glsp-client">GLSP Client</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/modelextension/#node-glsp-server">Node GLSP Server</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/modelextension/#java-glsp-server">Java GLSP Server</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/modelextension/#generic-args">Generic Args</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>
</div>
        </article><article id="list-page-validation"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-validation .collapse" data-add-collapse="#list-page-validation .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0">
                        <a href="https://www.eclipse.org/glsp/documentation/validation/">Model Validation</a>
                      </h5>
                  </div>
                </div><div class="collapse"></div>
        </article><article id="list-page-actionhandler"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-actionhandler .collapse" data-add-collapse="#list-page-actionhandler .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0">
                        <a href="https://www.eclipse.org/glsp/documentation/actionhandler/">Actions &amp; Action Handler</a>
                      </h5>
                  </div>
                </div><div class="collapse">
<!--  -->
<section id="toc" class="fragment ">
    <div class="container p-0 ">
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="https://www.eclipse.org/glsp/documentation/actionhandler/#action-specification">Action specification</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/actionhandler/#implementing-an-action-handler-glsp-server">Implementing an Action Handler (GLSP Server)</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/actionhandler/#implementing-an-action-handler-glsp-client">Implementing an Action Handler (GLSP Client)</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>
</div>
        </article><article id="list-page-additionals"
          class="col-12 px-0 mb-2">
                <div class="col-12 pl-0 pb-1 text-body">
                  <div data-toggle="collapse" data-target="#list-page-additionals .collapse" data-add-collapse="#list-page-additionals .article-title"
                    class="row align-items-center justify-content-between mx-0 article-title">
                      <h5 class="col px-0 m-0">
                        <a href="https://www.eclipse.org/glsp/documentation/additionals/">More Articles &amp; Videos</a>
                      </h5>
                  </div>
                </div><div class="collapse">
<!--  -->
<section id="toc" class="fragment ">
    <div class="container p-0 ">
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="https://www.eclipse.org/glsp/documentation/additionals/#articles">Articles</a></li>
        <li><a href="https://www.eclipse.org/glsp/documentation/additionals/#videos">Videos</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>
</div>
        </article>
  </div>
    </div>
</section>

        </div>
          </div> </div>
      <article class="col-md-9">
  <div class="title-container row mx-0">
    <div class="title col px-0 text-center text-body">
      <h2>Source Model &amp; Model State</h2>
    </div>
  </div>
<div class="content-body col-12 content px-0 text-body"><p>In order to render a diagram, the GLSP client first requests the graphical model from the server by sending a <a href="https://github.com/eclipse-glsp/glsp/blob/master/PROTOCOL.md#241-requestmodelaction">RequestModelAction</a>.
With such a request model action, the client can provide a set of custom arguments in the client options, such as a URI or an ID of a diagram, to specify the diagram requested by the user.
Based on these arguments, the GLSP server determines which source model it needs to load, transform into a graphical model and send back to the client.</p>
<p>Therefore, a request model action is handled as follows by the the <em>GLSP server</em> (see also <code>RequestModelActionHandler</code>):</p>
<ol>
<li>Invoke the configured <code>SourceModelStorage</code> to load the source model from an arbitrary resource into the model state.</li>
<li>Invoke the configured <code>GModelFactory</code> to transform the model state into the graphical model, or GModel for short, that describes the diagram to be rendered (see also <a href="https://www.eclipse.org/glsp/documentation/modelgeneration/">GModelFactory</a>).</li>
<li>Invoke the model submission to send the graphical model to the client.</li>
</ol>
<p>In this section, we’ll look at the interfaces involved step 1: the <code>SourceModelStorage</code> and the <code>GModelState</code>.</p>
<p>Every GLSP server needs to provide an implementation of the interface <code>SourceModelStorage</code>.
Implementations of this interface are reponsible for loading source models from a specific resource, such as an EMF model, a JSON file, or a database, into the GLSP server&rsquo;s model state.</p>
<p>The <code>ModelState</code> is the central stateful object within a client session that represents the information about the current state of the original source model.
All other services and handlers may access the model state to obtain the required information about the model in order to perform their diagram editing tasks.</p>
<p>As you typically need to store custom information that is specific to your model in the model state, you typically also bind a custom implementation that represents your model state.
This implementation usually implements the interface <code>GModelState</code> (and extends the base class <code>DefaultGModelState</code>).</p>
<details open><summary>Java GLSP Server</summary>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">protected</span> Class<span style="color:#f92672">&lt;?</span> <span style="color:#66d9ef">extends</span> GModelState<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">bindGModelState</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">return</span> MyModelState<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div></details>
<details><summary>Node GLSP Server</summary>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">configure</span>(<span style="color:#a6e22e">bind</span>: <span style="color:#66d9ef">interfaces.Bind</span>, <span style="color:#a6e22e">unbind</span>: <span style="color:#66d9ef">interfaces.Unbind</span>,
<span style="color:#a6e22e">isBound</span>: <span style="color:#66d9ef">interfaces.IsBound</span>, <span style="color:#a6e22e">rebind</span>: <span style="color:#66d9ef">interfaces.Rebind</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">configure</span>(<span style="color:#a6e22e">bind</span>, <span style="color:#a6e22e">unbind</span>, <span style="color:#a6e22e">isBound</span>, <span style="color:#a6e22e">rebind</span>);
    <span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">MyModelState</span>).<span style="color:#a6e22e">toSelf</span>().<span style="color:#a6e22e">inSingletonScope</span>();
    <span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">ModelState</span>).<span style="color:#a6e22e">toService</span>(<span style="color:#a6e22e">MyModelState</span>);
}
</code></pre></div></details>
</br>
<p>Now as we have registered our model state implementation, we can look at the source model loading.
First, we need to make the GLSP server aware of your <code>SourceModelStorage</code> implementation, so you have to bind your implementation of the <code>SourceModelStorage</code> interface in the server’s DI module:</p>
<details open><summary>Java GLSP Server</summary>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">  <span style="color:#a6e22e">@Override</span>
  <span style="color:#66d9ef">protected</span> Class<span style="color:#f92672">&lt;?</span> <span style="color:#66d9ef">extends</span> SourceModelStorage<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">bindSourceModelStorage</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> MySourceModelStorage<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
</code></pre></div></details>
<details><summary>Node GLSP Server</summary>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts">  <span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">configure</span>(<span style="color:#a6e22e">bind</span>: <span style="color:#66d9ef">interfaces.Bind</span>, <span style="color:#a6e22e">unbind</span>: <span style="color:#66d9ef">interfaces.Unbind</span>,
   <span style="color:#a6e22e">isBound</span>: <span style="color:#66d9ef">interfaces.IsBound</span>, <span style="color:#a6e22e">rebind</span>: <span style="color:#66d9ef">interfaces.Rebind</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
      <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">configure</span>(<span style="color:#a6e22e">bind</span>, <span style="color:#a6e22e">unbind</span>, <span style="color:#a6e22e">isBound</span>, <span style="color:#a6e22e">rebind</span>);
      <span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">SourceModelStorage</span>).<span style="color:#a6e22e">to</span>(<span style="color:#a6e22e">MySourceModelStorage</span>);
  }
</code></pre></div></details>
</br>
<p>The registered implementation of the source model storage needs to provide two functionalities:</p>
<ol>
<li>Loading source models, based on the parameters that are contained in the <a href="https://github.com/eclipse-glsp/glsp/blob/master/PROTOCOL.md#241-requestmodelaction">RequestModelAction</a>, and adding them into the session’s model state.
The implementation mostly depends on where you need to load your source model(s) from and what kind of model(s) you are dealing with (files, XML, JSON, EMF, a database, etc.).</li>
<li>Saving the current version of the source model from the <code>GModelState</code> back into its original resource (files, XML, EMF, database, etc.). This method is invoked when the client sends a <a href="https://github.com/eclipse-glsp/glsp/blob/master/PROTOCOL.md#251-savemodelaction">SaveModelAction</a> (see also <code>SaveModelActionHandler</code>).</li>
</ol>
<details open><summary>Java GLSP Server</summary>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MySourceModelStorage</span> <span style="color:#66d9ef">implements</span> SourceModelStorage <span style="color:#f92672">{</span>

   <span style="color:#a6e22e">@Inject</span>
   <span style="color:#66d9ef">protected</span> MyModelState modelState<span style="color:#f92672">;</span>

   <span style="color:#a6e22e">@Override</span>
   <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loadSourceModel</span><span style="color:#f92672">(</span><span style="color:#66d9ef">final</span> RequestModelAction action<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
      <span style="color:#66d9ef">final</span> String uri <span style="color:#f92672">=</span> MapUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getValue</span><span style="color:#f92672">(</span>action<span style="color:#f92672">.</span><span style="color:#a6e22e">options</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;sourceURI&#34;</span><span style="color:#f92672">);</span>
      <span style="color:#75715e">// load your model from file, EMF, database, etc.
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">final</span> YourModel model <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">…</span><span style="color:#f92672">;</span>
      <span style="color:#75715e">// add information needed about your model into the model state
</span><span style="color:#75715e"></span>      modelState<span style="color:#f92672">.</span><span style="color:#a6e22e">setModel</span><span style="color:#f92672">(</span>model<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>

   <span style="color:#a6e22e">@Override</span>
   <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveSourceModel</span><span style="color:#f92672">(</span><span style="color:#66d9ef">final</span> SaveModelAction action<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
      <span style="color:#75715e">// get the current version of your model
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">final</span> YourModel model <span style="color:#f92672">=</span> modelState<span style="color:#f92672">.</span><span style="color:#a6e22e">getModel</span><span style="color:#f92672">();</span>
      <span style="color:#75715e">// get the information to know where to store your model
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">final</span> String uri <span style="color:#f92672">=</span> action<span style="color:#f92672">.</span><span style="color:#a6e22e">getFileUri</span><span style="color:#f92672">().</span><span style="color:#a6e22e">get</span><span style="color:#f92672">();</span>
      
      <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
         <span style="color:#75715e">// store your model
</span><span style="color:#75715e"></span>      <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
         LOG<span style="color:#f92672">.</span><span style="color:#a6e22e">error</span><span style="color:#f92672">(</span>e<span style="color:#f92672">);</span>
         <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> GLSPServerException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;An error occured while saving the model.&#34;</span><span style="color:#f92672">,</span> e<span style="color:#f92672">);</span>
      <span style="color:#f92672">}</span>
   <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div></details>
<details opn><summary>Node GLSP Server</summary>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#66d9ef">@injectable</span>()
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MySourceModelStorage</span> <span style="color:#66d9ef">implements</span> <span style="color:#a6e22e">SourceModelStorage</span> {

    <span style="color:#66d9ef">@inject</span>(<span style="color:#a6e22e">MyModelState</span>)
    <span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">modelState</span>: <span style="color:#66d9ef">MyModelState</span>;

    <span style="color:#a6e22e">loadSourceModel</span>(<span style="color:#a6e22e">action</span>: <span style="color:#66d9ef">RequestModelAction</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">MaybePromise</span>&lt;<span style="color:#f92672">void</span>&gt; {
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">uri</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">action</span>.<span style="color:#a6e22e">options</span><span style="color:#f92672">!</span>[<span style="color:#e6db74">&#34;sourceURI&#34;</span>];
      <span style="color:#75715e">// load your model from file, EMF, database, etc.
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">model</span> <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">…</span>;
      <span style="color:#75715e">// add information needed about your model into the model state
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">modelState</span>.<span style="color:#a6e22e">model</span><span style="color:#f92672">=</span><span style="color:#a6e22e">model</span>;
    }

   <span style="color:#a6e22e">saveSourceModel</span>(<span style="color:#a6e22e">action</span>: <span style="color:#66d9ef">SaveModelAction</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">MaybePromise</span>&lt;<span style="color:#f92672">void</span>&gt; {
      <span style="color:#75715e">// get the current version of your model
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">model</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">modelState</span>.<span style="color:#a6e22e">model</span>;
      <span style="color:#75715e">// get the information to know where to store your model
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">uri</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">modelState</span>.<span style="color:#a6e22e">sourceUri</span>;
      
      <span style="color:#66d9ef">try</span> {
         <span style="color:#75715e">// store your model
</span><span style="color:#75715e"></span>      } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
         <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">GLSPServerError</span>(<span style="color:#e6db74">`Could not load model from file: </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">modelState</span>.<span style="color:#a6e22e">sourceUri</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>, <span style="color:#a6e22e">error</span>);
      }
   }
}
</code></pre></div></details>
</br>
<p>In the GLSP Workflow example there is also an example, in which the source model is a JSON file that contains the GModel directly.
In such a scenario, you can use the plain GModelState and the JsonFileGModelStorage.</p>
<p>Once the source model has been loaded into the model state, the GLSP server invokes the configured <code>GModelFactory</code> to derive the graphical model from the source model and issues model update for the client (see <a href="https://www.eclipse.org/glsp/documentation/modelgeneration/">Graphical Model Generation</a>).</p>
</div>
    </article>
  </div>
    </div>
    </div>
</section>

<!-- Footer -->
<section id="footer" class="fragment ">
    <div class="container-fluid bg-light ">
    <div class="container py-5 ">

  <div class="row">
    <div class="col-md m-2 text-body">
        <h4></h4>
        <a href="#">
          <img src="/glsp/images/logo.png" class="img-fluid w-50" alt="GLSP">
        </a>
        <div class="row justify-content-left ml-0">
            <span class="fa-stack fa-2x mt-3 mr-1" title="twitter">
              <a href="https://twitter.com/eclipseglsp" class="ignore-color-change">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-twitter fa-stack-1x fa-fw text-light"></i>
                <span class="sr-only">twitter</span>
              </a>
            </span>
            <span class="fa-stack fa-2x mt-3 mr-1" title="github">
              <a href="https://github.com/eclipse-glsp/glsp" class="ignore-color-change">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-github fa-stack-1x fa-fw text-light"></i>
                <span class="sr-only">github</span>
              </a>
            </span>
            <span class="fa-stack fa-2x mt-3 mr-1" title="github-discussions">
              <a href="https://github.com/eclipse-glsp/glsp/discussions" class="ignore-color-change">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-comments fa-stack-1x fa-fw text-light"></i>
                <span class="sr-only">github-discussions</span>
              </a>
            </span>
        </div>
    </div>
    <div class="col-md m-2 text-body">
        <h4>Related Projects</h4>
        <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link p-0 display-5" href="https://projects.eclipse.org/projects/ecd.sprotty">Eclipse Sprotty</a>
              </li>
              <li class="nav-item">
                <a class="nav-link p-0 display-5" href="https://projects.eclipse.org/projects/ecd.emfcloud">Eclipse EMF.cloud</a>
              </li>
              <li class="nav-item">
                <a class="nav-link p-0 display-5" href="https://eclipsesource.com/technology/eclipse-theia">Eclipse Theia IDE</a>
              </li>
              <li class="nav-item">
                <a class="nav-link p-0 display-5" href="https://eclipse.org/che">Eclipse Che</a>
              </li>
        </ul>
    </div>
    <div class="col-md m-2 text-body">
        <div><h4 id="eclipse-glsp">Eclipse GLSP</h4>
<p>The Eclipse Graphical Language Server Platform is a project hosted at the <a href="https://www.eclipse.org">Eclipse Foundation</a>, led by <a href="https://projects.eclipse.org/projects/ecd.glsp/who">Philip Langer &amp; Tobias Ortmayr</a>, organized within the <a href="https://projects.eclipse.org/projects/ecd">Eclipse Cloud Development</a> project.</p>
</div>
    </div>
  </div>
    </div>
    </div>
</section>


<!-- Copyright -->
<footer class="overlay fragment container-fluid bg-secondary" id="copyright">
  <div class="container">
    <div class="row py-3">
      <div class="col-md">
        <div class="row mx-0 my-2 justify-content-center text-center text-lg-none text-black-50">
          <div class="row mx-0 mr-lg-auto justify-content-center">
              <div class="col-auto px-1 copyright-legal">© Copyright&nbsp;2022</div>
              <div class="col-auto px-0 copyright-by"> by  Eclipse Foundation</div>
          </div>
        </div>
      </div>
        <div class="col-md">
          <div class="row mx-0 my-2 justify-content-center">
            <ul class="nav ml-lg-auto">
                <li class="nav-item">
                  <a class="nav-link py-0" href="https://projects.eclipse.org/projects/ecd.glsp"
                  >About</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="https://www.eclipse.org/legal/privacy.php"
                  >Privacy Policy</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="https://www.eclipse.org/legal/termsofuse.php"
                  >Terms of Use</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="https://www.eclipse.org/legal/copyright.php"
                  >Copyright</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="https://www.eclipse.org/legal/"
                  >Legal</a>
                </li>
            </ul>
          </div>
        </div>
    </div>
  </div>
</footer>
<div id="react"></div>

    <!-- Theme Code -->
      <script async defer src="/glsp/scripts/syna-main.min.68ae1ae47948304c9c224cfc1a97ffe16c57514bc587dd6140dcb82389a8d299.js"></script>
      <script async defer src="/glsp/scripts/syna-content.min.bf537eb5ace369e45e8b4ed41b8d235a65db92236a400ed5659f7a3c41d0f221.js"></script>
      <script async defer src="/glsp/scripts/syna-collapse.min.1f6ca6206008af133f158e2b7b650b4156b8fc33189c5a6142db3bb43c7ad8e7.js"></script>
  </body>
</html>
